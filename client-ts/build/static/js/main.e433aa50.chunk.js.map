{"version":3,"sources":["utils/api.js","components/users/UserContext.tsx","components/shared/SiteHeader.js","components/shared/Footer.js","components/LoadingBar.js","utils/scrollTo.js","components/shared/AlertMessages.js","components/Home.tsx","components/shared/Jumbotron.js","components/Login.js","utils/localStorage.js","components/users/_NewUserForm.js","components/Register.js","components/users/Users.js","components/users/CreateUser.js","components/users/DeleteUser.js","components/users/_ManageUserTable.js","components/users/ManageUser.js","components/mills/_MillsTablePaginate.js","components/mills/_MillsTable.js","components/mills/Collapsible.js","components/mills/_SearchMills.tsx","components/mills/Mills.js","components/mills/_MillTableDataRow.js","components/mills/millTableSectionOrder.js","components/mills/_MillTable.js","components/mills/Mill.js","components/mills/_NewMillForm.js","components/mills/CreateMill.js","components/mills/BulkImport.js","components/AppRoutes.tsx","App.tsx","serviceWorker.ts","index.tsx","components/assets/moodyville-yard.jpg","components/assets/header-img.jpg","components/assets/madison-logo-small.png","components/assets/madison-logo.png","components/assets/mills-header.jpg","components/assets/blue-mill.jpg","components/assets/kiln-dried-lumber.jpg"],"names":["instance","axios","create","baseURL","withCredentials","headers","api","authUser","email","password","post","querystring","stringify","then","res","data","validateToken","token","authHeader","Authorization","getMills","q","query","parsed","parse","slice","r","t","pr","sp","p","limit","get","getMill","millUUID","console","log","createMill","mill","editMill","slug","options","sectionName","uploadCsv","csv","deleteMill","millSlug","getUsers","getUser","userUri","deleteUser","uuidUri","createUser","user","firstName","name","lastName","surname","pwd","accountType","registerUser","invitationCode","UserContext","React","createContext","UserStore","state","authWithTokenStatus","isAuthenticated","isAdmin","undefined","userName","successAuth","authWithToken","setState","forceUpdate","catch","redirectTo","cookies","Cookies","set","path","maxAge","logoutUser","remove","localToken","this","userFunctions","Provider","value","props","children","Component","Consumer","LogoutButton","to","onClick","handleSubmit","className","aria-hidden","UsersButton","activeClassName","NavBar","SiteHeader","event","preventDefault","history","push","context","id","src","navbarLogo","alt","contextType","withRouter","Footer","href","LoadingBar","scroll","durration","duration","setTimeout","scrollToElement","offset","ease","AlertMessages","msgCount","infoCount","errCount","success","length","error","info","map","msg","i","key","err","Home","style","backgroundImage","headerBg","madisonLogo","width","Jumbotron","imgSrc","heading","Login","redirectToReferrer","handleChange","bind","location","from","pathname","newState","target","errors","serializedState","JSON","localStorage","setItem","saveState","String","action","onSubmit","htmlFor","type","onChange","NewUserForm","fireRedirect","Register","class","UsersBanner","UsersTable","users","uuid","Users","loaded","loadUsers","nextProps","CreateUser","DeleteUser","matchUrl","autoComplete","ManageUserTable","created","ManageUser","loadUser","match","url","MillsTablePaginate","nextDisabled","page","pages","prevDisabled","searchQuery","searchRegion","searchType","searchProduct","searchSpecies","disabled","total","MillsTable","metaData","mills","_id","region","qualifications","millStatus","Collapsible","continueOpenCollapsible","height","innerRef","scrollHeight","transition","transitionTime","easing","isClosed","hasBeenOpened","inTransition","shouldOpenOnNextCycle","handleTriggerClick","triggerDisabled","accordionPosition","openCollapsible","onOpening","onTriggerOpening","closeCollapsible","onClosing","onTriggerClosing","handleTransitionEnd","e","onClose","overflow","overflowWhenOpen","onOpen","setInnerRef","ref","timeout","open","shouldSwitchAutoOnNextCycle","prevProps","prevState","window","clearTimeout","transitionCloseTime","triggerSibling","classParentString","dropdownStyle","WebkitTransition","msTransition","openClass","disabledClass","trigger","triggerWhenOpen","ContentContainerElement","contentContainerTagName","TriggerElement","triggerTagName","lazyRender","triggerClassString","triggerClassName","triggerOpenedClassName","parentClassString","openedClassName","outerClassString","contentOuterClassName","innerClassString","contentInnerClassName","trim","containerElementProps","triggerStyle","onKeyPress","toLowerCase","tabIndex","triggerElementProps","renderNonClickableTriggerElement","onTransitionEnd","hidden","contentHiddenWhenClosed","defaultProps","SearchMills","collapsibleTitle","title","collapsibleTitleOpen","Form","Group","controlId","Control","placeholder","onKeyUp","onFocus","Check","label","onRegionChange","onTypeChange","onProductChange","onSpeciesChange","Mills","searchTerm","prevSearchInput","baseQuery","loadMills","reloadMills","handleInput","handleRegionChange","handleTypeChange","handleProductChange","handleSpeciesChange","handleClick","handleDelete","search","Number","response","inputType","checked","concat","filter","inputRegion","inputProduct","product","inputSpecies","species","snap","Object","assign","index","indexOf","find","splice","input","searchInput","StrContent","content","ArrContent","display","marginBottom","toUpperCase","titleize","Default","contentType","Editable","handleEdit","split","contentHasChanged","relatedTarget","submitEdit","millKey","onContentUpdate","toggleEditable","temp","autoFocus","handleOnFocus","onBlur","btn","MillTableDataRow","Array","isArray","editable","orderedSections","orderMillData","millData","reduce","ordered","section","prop","findMatch","MillTable","tableData","titleized","str","processed","make","replace","irrelevant","keys","includes","forEach","newKey","mapTableData","lastUpdated","format","relative","Mill","loadMill","entries","millKeys","val","updateMillState","MillBanner","MillNotFound","MillSchema","address","phone","fax","website","contactPersons","products","roughSizes","surfacedSizes","production","panelThickness","services","kilnCapacity","shipping","export","gradingAgency","memberOf","employees","notes","certification","preservatives","treatingFacilities","distributionYard","NewMillForm","CreateMill","BulkImport","FormData","append","files","encType","handleSumbit","accept","NotFound","AppRoutes","exact","render","routerProps","App","isLocalhost","Boolean","hostname","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","ReactDOM","StrictMode","document","getElementById","URL","process","origin","addEventListener","fetch","status","ready","unregister","reload","checkValidServiceWorker","module","exports"],"mappings":"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","file":"static/js/main.e433aa50.chunk.js","sourcesContent":["import axios from 'axios';\nimport querystring from 'qs';\n\nconst baseURL = process.env.NODE_ENV === 'production'\n  ? 'https://db.madisonsreport.com'\n  : 'http://localhost:8181';\n\nvar instance = axios.create({\n  baseURL,\n  withCredentials: true,\n  headers: {'Content-Type': 'application/x-www-form-urlencoded'}\n});\n\n\nconst api = {\n  authUser: (email, password) => {\n    return instance.post(\n      '/api/login',\n      querystring.stringify({ email, password })\n      ).then(res => res.data);\n  },\n  validateToken: token => {\n      const authHeader = { headers: { Authorization: 'Bearer ' + token } };\n      return instance.post('/api/validate', null, authHeader)\n          .then(res => res.data);\n  },\n  getMills: (token, q) => {\n    let authHeader = { headers: { Authorization: 'Bearer ' + token } }\n    let query = `/api/mills/?`;\n    if(q) {\n      const parsed = querystring.parse(q.slice(1));\n      parsed.q ? parsed.q = parsed.q : parsed.q = '';\n      parsed.r ? parsed.r = parsed.r : parsed.r = '';\n      parsed.t ? parsed.t = parsed.t : parsed.t = '';\n      parsed.pr ? parsed.pr = parsed.pr : parsed.pr = '';\n      parsed.sp ? parsed.sp = parsed.sp : parsed.sp = '';\n      query += `q=${parsed.q}&r=${parsed.r}&t=${parsed.t}&pr=${parsed.pr}&sp=${parsed.sp}&p=${parsed.p}&limit=${parsed.limit}`;\n    } else {\n      query += `q=&p=1&limit=20`;\n    }\n    return instance.get(query,authHeader)\n        .then(res => res.data );\n  },\n  getMill: (token, millUUID) => {\n    console.log(\"Attempted to fetch mill with _id: \" + millUUID);\n    return instance.get(`/api${millUUID}?token=${token}`)\n      .then(res => res.data );\n  },\n  createMill: (token, mill) => {\n    return instance.post(\n      '/api/mills/create',\n      querystring.stringify({\n        token,\n        ...mill\n    })).then(res => res.data);\n  },\n  editMill: (token, slug, options, sectionName) => {\n    return instance.post(\n      '/api/mills/processEdit',\n      querystring.stringify({\n        token,\n        slug: slug,\n        options: options,\n        sectionName: sectionName\n      })\n    ).then(res => res.data);\n  },\n  uploadCsv: (token, csv) => {\n\n  },\n  deleteMill: (token, millSlug) => {\n    return instance.get(`/api/mills/${millSlug}/delete?token=${token}`)\n      .then(res => res.data );\n  },\n  getUsers: (token) => {\n    return instance.get(`/api/users?token=${token}`)\n      .then(res => res.data );\n  },\n  getUser: (token, userUri) => {\n    return instance.get(`/api${userUri}?token=${token}`)\n      .then(res => {\n        return res.data} );\n  },\n  deleteUser: (token, email, uuidUri) => {\n    return instance.post(\n      `/api${uuidUri}/delete`,\n      querystring.stringify({\n        token,\n        email\n      })).then(res => res.data);\n  },\n  createUser: (token, user) => {\n    return instance.post(\n      '/api/users/create',\n      querystring.stringify({\n        token,\n        firstName: user.name,\n        lastName: user.surname,\n        email: user.email,\n        password: user.pwd,\n        accountType: user.accountType\n      })).then(res => res.data);\n  },\n  registerUser: (invitationCode, user) => {\n    return instance.post(\n      '/api/users/register',\n      querystring.stringify({\n        invitationCode,\n        firstName: user.name,\n        lastName: user.surname,\n        email: user.email,\n        password: user.pwd,\n        accountType: user.accountType\n      })).then(res => res.data);\n  }\n}\n\nexport default api;\n\n","import React from 'react'\nimport Cookies from \"universal-cookie\";\nimport api from \"../../utils/api\";\n\ntype ContextProps = {\n    authWithToken: object;\n    authUser: object;\n    logoutUser: object;\n    authWithTokenStatus: string;\n    isAuthenticated: boolean;\n    isAdmin: boolean;\n    token?: string;\n    userName: string;\n    successAuth: any[];\n};\n\nexport const UserContext = React.createContext<Partial<ContextProps>>({});\n\ninterface State {\n    authWithTokenStatus: string;\n    isAuthenticated: boolean;\n    isAdmin: boolean;\n    token?: string;\n    userName: string;\n    successAuth: any[];\n};\n\n\nclass UserStore extends React.Component<any, State> {\n    state = {\n        authWithTokenStatus: 'INIT',\n        isAuthenticated: false,\n        isAdmin: false,\n        token: undefined,\n        userName: '',\n        successAuth: [],\n    };\n    componentWillMount() {\n        const cookies = new Cookies();\n        // cookies.set('session_id', null, { path: '/', maxAge: 86400 });\n\n        const localToken = cookies.get('session_id') || null;\n        if (localToken) {\n            this.authWithToken(localToken);\n        } else {\n            this.setState({ authWithTokenStatus: 'COMPLETE' });\n        }\n    }\n\n    authWithToken = (token: string) => {\n        this.setState({ authWithTokenStatus: 'LOADING' });\n        return api.validateToken(token).then((res) => {\n            this.authUser(res.token, res.user, res.isAdmin);\n            this.forceUpdate();\n        }).catch(() => this.setState({ authWithTokenStatus: 'COMPLETE' }));\n    }\n\n    authUser = (token: string, userName: string, isAdmin: boolean, redirectTo?: string) => {\n        const cookies = new Cookies();\n        this.setState(() => ({\n            authWithTokenStatus: 'COMPLETE',\n            isAuthenticated: true,\n            token,\n            userName,\n            isAdmin,\n            successAuth: ['Login Successful.', `Welcome back, ${userName}!`],\n        }));\n        cookies.set('session_id', token, { path: '/', maxAge: 86400 });\n    }\n    logoutUser = () => {\n        const cookies = new Cookies();\n        this.setState(() => ({\n            isAuthenticated: false,\n            isAdmin: false,\n            token: undefined,\n            userName: '',\n            successAuth: ['Logout Successful.', `See you later, ${this.state.userName}.`],\n        }));\n\n        cookies.remove('session_id', { path: '/' });\n    }\n    render() {\n        const userFunctions = {\n            'authWithToken': this.authWithToken,\n            'authUser': this.authUser,\n            'logoutUser': this.logoutUser\n        }\n        return (\n            <UserContext.Provider value={{...this.state,...userFunctions}}>\n                {this.props.children}\n            </UserContext.Provider>\n        )\n    }\n}\n\n// export UserContext.Provider\nexport const UserConsumer = UserContext.Consumer\n\nexport default UserStore","import React, { Component } from 'react';\nimport { Link, NavLink, withRouter } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport navbarLogo from '../assets/madison-logo-small.png';\n\nimport { UserContext } from '../users/UserContext'\n\n\nconst LogoutButton = props => (\n      <Link to=\"#\" onClick={props.handleSubmit}>\n        <i className=\"fa fa-sign-out\" aria-hidden=\"true\"></i> logout\n      </Link>\n);\n\nLogoutButton.propTypes = {\n  handleSubmit: PropTypes.func.isRequired,\n};\n\nconst UsersButton = props => {\n  if (props.isAdmin) {\n    return (\n      <li>\n        <NavLink to=\"/users\" activeClassName=\"active-link\">\n          <i className=\"fa fa-users\" aria-hidden=\"true\" /> Users\n        </NavLink>\n      </li>\n    );\n  }\n  return null;\n};\n\nUsersButton.propTypes = {\n  isAdmin: PropTypes.bool.isRequired,\n};\n\nconst NavBar = (props) => {\n  if (props.isAuthenticated) {\n    return (\n      <ul className=\"nav navbar-nav\">\n        <li className=\"nav-item\">\n          <NavLink to=\"/mills\" activeClassName=\"active-link\">\n            <i className=\"fa fa-database\" aria-hidden=\"true\" /> Mills\n          </NavLink>\n        </li>\n        <UsersButton isAdmin={props.isAdmin}/>\n        <li>\n          <LogoutButton handleSubmit={props.handleSubmit} />\n        </li>\n      </ul>\n    );\n  }\n  return (\n    <ul className=\"nav navbar-nav\">\n      <li>\n        <NavLink to=\"/login\" activeClassName=\"active-link\">\n          <i className=\"fa fa-sign-in\" aria-hidden=\"true\" /> Login\n        </NavLink>\n      </li>\n    </ul>\n  );\n};\n\nNavBar.propTypes = {\n  isAuthenticated: PropTypes.bool.isRequired,\n  handleSubmit: PropTypes.func.isRequired,\n  isAdmin: PropTypes.bool.isRequired,\n};\n\n\nclass SiteHeader extends Component {\n    handleSubmit = (event) => {\n        event.preventDefault();\n        this.props.history.push('/');\n        this.context.logoutUser();\n    }\n\n    render() {\n        return (\n            <UserContext.Consumer>\n                {props => (\n                    <header id=\"site-header\">\n                        <div className=\"navbar navbar-expand-lg navbar-dark\">\n                            <div className=\"container-fluid\">\n                                \n                              <NavLink to=\"/\" className=\"navbar-brand\">\n                                  <img src={navbarLogo} alt=\"Madison's Lumber\" className=\"navbar-logo\" /> Madison's Lumber\n                              </NavLink>\n\n                              {props.authWithTokenStatus === 'COMPLETE' &&\n                              <NavBar\n                                  handleSubmit={this.handleSubmit}\n                                  isAuthenticated={props.isAuthenticated}\n                                  isAdmin={props.isAdmin}\n                              />}\n                            </div>\n                        </div>\n                    </header>\n                )}\n            </UserContext.Consumer>\n    );\n  }\n}\n\nSiteHeader.contextType = UserContext;\n\nSiteHeader.propTypes = {\n  authWithTokenStatus: PropTypes.string.isRequired,\n  isAuthenticated: PropTypes.bool.isRequired,\n  logoutUser: PropTypes.func.isRequired,\n};\n\nexport default withRouter(SiteHeader);","import React from 'react';\n\nconst Footer = () => {\n  return (\n    <footer id=\"site-footer\">\n      Copyright &copy; 2017 <a href=\"http://www.ketadesign.ca/\">\n        KetaDesign Productions Inc.\n      </a>\n    </footer>\n  )\n}\n\nexport default Footer;","import React from 'react';\n\nconst LoadingBar = () => {\n  return (\n    <div className=\"loading-bar\"></div>\n  )\n}\n\nexport default LoadingBar;","import scrollToElement from 'scroll-to-element';\n\nconst scroll = {\n  to: (className, durration) => {\n    const duration = durration || 500;\n    setTimeout(() => {\n      scrollToElement(className, {\n        offset: -20,\n        ease: 'out-expo',\n        durration: duration\n      });\n    }, 1);\n  }\n}\n\nexport default scroll;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport scroll from '../../utils/scrollTo';\n\n\nconst AlertMessages = props => {\n  let msgCount = 0;\n  let infoCount = 0;\n  let errCount = 0;\n\n  if(((props.success && props.success.length > 0) ||\n      (props.error && props.error.length > 0) ||\n      (props.info && props.info.length > 0)) &&\n       props.scroll) {\n    scroll.to('.alert-messages');\n  }\n  if (props.success || props.error || props.info) {\n    return (\n      <div className=\"alert-messages\">\n        { props.success && props.success.length > 0 &&\n          <div className=\"alert alert-success\">\n            {props.success.map((msg, i) => {\n              msgCount++;\n              return (\n              <span key={`msg${msgCount}`}>\n                { i === 0\n                  ? <strong>{msg} <br/></strong>\n                  : <span>{msg} <br/></span> }\n              </span>\n              )\n            })}\n          </div>\n        }\n\n        { props.info && props.info.length > 0 &&\n          <div className=\"alert alert-info\">\n            {props.info.map((info, i) => {\n              infoCount++;\n              return (\n              <span key={`info${infoCount}`}>\n                { i === 0\n                  ? <strong><i className=\"fa fa-info-circle\" aria-hidden=\"true\"></i> {info} <br/></strong>\n                  : <span>{info} <br/></span> }\n              </span>\n              )\n            })}\n          </div>\n        }\n\n        { props.error && props.error.length > 0 &&\n          <div className=\"alert alert-danger\">\n            {props.error.map((err, i) => {\n              errCount++;\n              return (\n              <span key={`err${errCount}`}>\n                { i === 0\n                  ? <strong>{err} <br/></strong>\n                  : <span>{err} <br/></span> }\n              </span>\n              )\n            })}\n          </div>\n        }\n      </div>\n    )\n  } else {\n    return null;\n  }\n};\n\nAlertMessages.propTypes = {\n  success: PropTypes.array,\n  error: PropTypes.array,\n  info: PropTypes.array\n};\n\nexport default AlertMessages;","import React from 'react';\nimport { RouteComponentProps } from 'react-router-dom';\nimport madisonLogo from './assets/madison-logo.png';\nimport headerBg from './assets/header-img.jpg';\nimport AlertMessages from './shared/AlertMessages';\nimport { UserContext } from './users/UserContext'\n\nconst landingDescription = `The most comprehensive listing of Canadian solid wood and pulp manufacturers anywhere, \n  Madison's Online Lumber Directory has been published for over 60 years. Company information includes contacts, tree \n  species, rough and finished lumber sizes, lumber production volumes, countries of lumber export, and much, much more.\n  A sample viewing of Madison's Online Directory is available HERE, the full database contains more than 1,799 individual \n  solid wood and pulp producer entries. Further details and a link to our Madison's Directory order form is HERE.`\n\nconst Home = (props:RouteComponentProps) => (\n    <UserContext.Consumer>\n      {context => (\n          <div className=\"container\">\n            {context.token &&\n            <AlertMessages success={context.successAuth}/>\n            }\n            <div className=\"jumbotron text-center section-banner\"\n                 style={{backgroundImage: `url(${headerBg})`}}>\n              <img src={madisonLogo} alt=\"Madison's Lumber\" width=\"150px\"/>\n              <h2 className=\"heading-brand\">Madison's Lumber Directory</h2>\n            </div>\n            <h3>Lumber Directory Database</h3>\n            <p>{landingDescription}</p>\n          </div>\n      )}\n    </UserContext.Consumer>\n)\n\nexport default Home;","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst Jumbotron = props => (\n  <div\n    className=\"jumbotron text-center section-banner\"\n    style={{backgroundImage: `url(${props.imgSrc})`}}>\n    <h1 className=\"heading-brand\">\n      {props.heading}\n    </h1>\n  </div>\n)\n\nJumbotron.propTypes = {\n  imgSrc: PropTypes.string.isRequired,\n  heading: PropTypes.string.isRequired\n}\n\nexport default Jumbotron;","import React, { Component } from 'react';\nimport { Redirect, Link } from 'react-router-dom';\nimport Cookies from 'universal-cookie';\nimport PropTypes from 'prop-types';\nimport { saveState } from '../utils/localStorage';\nimport api from '../utils/api';\nimport Jumbotron from './shared/Jumbotron';\nimport headerBg from './assets/moodyville-yard.jpg';\nimport AlertMessages from './shared/AlertMessages';\n\nimport { UserContext } from './users/UserContext'\n\n\n\nfunction SectionBanner(props) {\n  return (\n    <div\n      className=\"jumbotron text-center section-banner\"\n      style={{backgroundImage: `url(${props.imgSrc})`}}>\n      <h1 className=\"heading-brand\">\n        {props.sectionName}\n      </h1>\n    </div>\n  );\n}\n\nSectionBanner.propTypes = {\n  sectionName: PropTypes.string.isRequired,\n  imgSrc: PropTypes.string.isRequired,\n};\n\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      redirectToReferrer: false,\n      redirectTo: '/',\n      email: '',\n      pwd: '',\n      error: [],\n    };\n\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n\n    if (this.props.location.state && this.props.location.state.error) {\n      this.setState(() => ({ error: this.props.location.state.error }));\n    }\n    if (this.props.location.state && this.props.location.state.from) {\n      this.setState(() => ({redirectTo: this.props.location.state.from.pathname}));\n    }\n  }\n\n  handleChange(event) {\n    const newState = {\n      [event.target.name]: event.target.value\n    }\n    this.setState( () => newState );\n  }\n\n  handleSubmit(event) {\n    const cookies = new Cookies();\n    const redirectTo = this.state.redirectTo;\n    event.preventDefault();\n    api.authUser(\n      this.state.email,\n      this.state.pwd,\n    ).then((res) => {\n      if (res.errors) {\n        this.setState(() => ({ error: res.errors }));\n      } else {\n        this.setState(() => ({ error: [] }));\n      }\n      if (res.token) {\n        if (this.state.redirectTo === '/') {\n          this.context.authUser(\n            res.token,\n            res.user,\n            res.isAdmin,\n            redirectTo,\n          );\n        } else {\n          const token = res.token;\n          cookies.set('session_id', token, { path: '/', maxAge: 86400 });\n          saveState({ token });\n          this.setState(() => ({ redirectToReferrer: true }));\n        }\n      }\n    }).catch(err => this.setState(() => ({ error: [String(err)] })));\n  }\n\n  render() {\n    const { redirectToReferrer } = this.state;\n    if (this.context.isAuthenticated === true) {\n      return (\n        <Redirect to=\"/\"/>\n      )\n    }\n\n    if (redirectToReferrer) {\n      return (\n        <Redirect to={this.state.redirectTo}/>\n      )\n    }\n\n    return (\n      <div className=\"container\">\n        <Jumbotron heading=\"Login\" imgSrc={headerBg}/>\n\n        <div className=\"row\">\n          <div className=\"col-sm-6 col-sm-offset-3\">\n            {this.state.error &&\n              <AlertMessages\n                success={[]}\n                error={this.state.error} />}\n            <form action=\"/api/auth\" onSubmit={this.handleSubmit}>\n              <div className=\"form-group\">\n                <label htmlFor=\"\">Email</label>\n                <input\n                  type=\"text\"\n                  name=\"email\"\n                  className=\"form-control\"\n                  value={this.state.email}\n                  onChange={this.handleChange}\n                />\n              </div>\n              <div className=\"form-group\">\n                <label htmlFor=\"\">Password</label>\n                <input\n                  type=\"password\"\n                  name=\"pwd\"\n                  className=\"form-control\"\n                  value={this.state.pwd}\n                  onChange={this.handleChange}\n                />\n              </div>\n              <div className=\"form-group\">\n                <button type=\"submit\" className=\"btn btn-success btn-lg btn-block\"><i className=\"fa fa-sign-in\" aria-hidden=\"true\"></i> Login</button>\n                <Link to=\"/register\" className=\"btn btn-link btn-block\">\n                  <i className=\"fa fa-user-o\" aria-hidden=\"true\"></i> Register\n                </Link>\n\n              </div>\n            </form>\n          </div>\n        </div>\n      </div>\n\n    );\n  }\n}\nLogin.contextType = UserContext;\n\n\nLogin.propTypes = {\n};\n\nexport default Login;\n","export const loadState = () => {\n  try {\n    const serializedState = localStorage.getItem('state');\n    if(serializedState === null) {\n      console.log(serializedState);\n      return undefined;\n    }\n    return JSON.parse(serializedState);\n  } catch (err) {\n    // if the browser doesn't allow access to local storage, don't do anything\n    return undefined;\n  }\n}\n\nexport const saveState = (state) => {\n  try {\n    const serializedState = JSON.stringify(state);\n    localStorage.setItem('state', serializedState);\n  } catch (err) {\n    // Ignore\n  }\n}","import React  from 'react';\nimport { Redirect } from 'react-router'\nimport PropTypes from 'prop-types';\n\nclass NewUserForm extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      firstName: '',\n      lastName: '',\n      email: '',\n      pwd: '',\n      accountType: 'free',\n      invitationCode: ''\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n\n  handleSubmit(event) {\n    event.preventDefault()\n    const user = {\n      name: this.state.firstName,\n      surname: this.state.lastName,\n      email: this.state.email,\n      pwd: this.state.pwd,\n      accountType: this.state.accountType\n    }\n    this.props.onSubmit(this.state.invitationCode, user)\n    this.setState({ fireRedirect: true })\n  }\n\n  handleChange(event) {\n    const newState = {\n      [event.target.name]: event.target.value\n    }\n    this.setState( () => newState );\n  }\n\n  render() {\n    const { fireRedirect } = this.props\n\n    return (\n      <div>\n        <form action=\"/users/create\" onSubmit={this.handleSubmit}>\n          <div className=\"form-group\">\n            <label htmlFor=\"\">First Name</label>\n            <input\n              type=\"text\"\n              name=\"firstName\"\n              className=\"form-control\"\n              value={this.state.firstName}\n              onChange={this.handleChange} />\n          </div>\n\n          <div className=\"form-group\">\n            <label htmlFor=\"\">Last Name</label>\n            <input\n              type=\"text\"\n              name=\"lastName\"\n              className=\"form-control\"\n              value={this.state.lastName}\n              onChange={this.handleChange} />\n          </div>\n\n          <div className=\"form-group\">\n            <label htmlFor=\"\">Email</label>\n            <input\n              type=\"text\"\n              name=\"email\"\n              className=\"form-control\"\n              value={this.state.email}\n              onChange={this.handleChange} />\n          </div>\n\n          <div className=\"form-group\">\n            <label htmlFor=\"\">Password</label>\n            <input\n              type=\"password\"\n              name=\"pwd\"\n              className=\"form-control\"\n              value={this.state.pwd}\n              onChange={this.handleChange} />\n          </div>\n\n          <div className=\"form-group\">\n            <label htmlFor=\"\">Account Type</label>\n            <select\n              className=\"form-control\"\n              name=\"accountType\"\n              value={this.state.accountType}\n              onChange={this.handleChange}>\n              <option value='free'>free</option>\n            </select>\n          </div>\n\n          <div className=\"form-group\">\n            <label htmlFor=\"\">Invitation Code</label>\n            <input\n              type=\"text\"\n              name=\"invitationCode\"\n              className=\"form-control\"\n              value={this.state.invitationCode}\n              onChange={this.handleChange} />\n          </div>\n\n          <div className=\"form-group\">\n            <button type=\"submit\" className=\"btn btn-success btn-lg\">Create User</button>\n          </div>\n        </form>\n        { fireRedirect && (\n          <Redirect to={'/login'} success={'asdfasdf'}/>\n        ) }\n      </div>\n    );\n  }\n};\n\nNewUserForm.propTypes = {\n  handleSubmit: PropTypes.func.isRequired\n};\n\nexport default NewUserForm;\n","import React, { Component } from 'react';\nimport api from '../utils/api';\nimport NewUserForm from './users/_NewUserForm';\nimport Jumbotron from './shared/Jumbotron';\nimport headerBg from './assets/moodyville-yard.jpg'\nimport AlertMessages from './shared/AlertMessages';\n\nimport { UserContext } from './users/UserContext'\nimport {Redirect} from \"react-router-dom\";\n\nclass Register extends Component {\n  state = {\n      success: [],\n      info: [\n              'Early Access by invitation only',\n              'An invitation code is required to join at this time.'\n              ],\n      errors: [],\n      fireRedirect: false\n    }\n\n\n  onSubmit = (invitationCode, user) => {\n    api.registerUser(invitationCode, user)\n      .then(res => {\n        if (res.errors) {\n          this.setState(() => ({\n            errors: res.errors\n          }))\n        } else {\n          this.setState(() => ({\n            errors: [],\n            fireRedirect: true\n          }))\n        }\n      });\n  }\n\n  render() {\n    if (this.context.isAuthenticated) {\n      return <Redirect to={{ pathname: '/'}}/>\n    }\n    return (\n      <div className=\"container\">\n\n        <Jumbotron\n          heading=\"Register\"\n          imgSrc={headerBg}/>\n          <AlertMessages\n              success={this.state.success}\n              info={this.state.info}\n              error={this.state.errors}\n              scroll={true} />\n\n          <div class=\"panel panel-default\">\n            <div class=\"panel-body\">\n              This new web tool is in its final beta testing phase. We welcome\n              your feedback as we work to make it easier and more convenient for\n              you to search the largest database of Canadian lumber suppliers and remanufacturers.\n              Thank you for your interest in Madison's Lumber Directory!\n            </div>\n          </div>\n\n        <div className=\"row\">\n          <div className=\"col-sm-6 col-sm-offset-3\">\n\n\n            <NewUserForm\n              onSubmit={this.onSubmit}\n              fireRedirect={this.state.fireRedirect}\n              />\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nRegister.contextType = UserContext;\n\nexport default Register;","import React, { Component } from 'react';\nimport { Redirect, Link } from 'react-router-dom'\nimport PropTypes from 'prop-types';\nimport api from '../../utils/api';\nimport headerBg from '../assets/moodyville-yard.jpg'\nimport AlertMessages from '../shared/AlertMessages';\n\nimport { UserContext } from '../users/UserContext'\n\nconst UsersBanner = props => (\n  <div\n    className=\"jumbotron text-center section-banner\"\n    style={{backgroundImage: `url(${props.imgSrc})`}}>\n    <h1 className=\"heading-brand\">\n      {props.heading}\n    </h1>\n  </div>\n)\n\nconst UsersTable = props => (\n  <table className=\"table table-bordered table-hover table-striped user-table\">\n    <thead>\n      <tr>\n        <th>Name</th>\n        <th>Email</th>\n        <th>Account Type</th>\n        <th>Expiry</th>\n        <th></th>\n      </tr>\n    </thead>\n    <tbody>\n      {props.users.map(user => (\n        <tr key={user.uuid}>\n            <td>{user.firstName} {user.lastName}</td>\n            <td>{user.email}</td>\n            <td>{user.accountType}</td>\n            <td></td>\n            <td className=\"manage-user\">\n              <Link to={`/users/${user.uuid}`} className=\"btn btn-sm btn-default\">Manage User</Link>\n            </td>\n        </tr>\n      ))}\n    </tbody>\n  </table>\n);\n\nUsersTable.propTypes = {\n  users: PropTypes.array.isRequired\n}\n\n\n\nclass Users extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      success: [],\n      errors: [],\n      loaded: true,\n      users: []\n    }\n  }\n\n  componentDidMount() {\n    this.loadUsers();\n  }\n  componentWillReceiveProps(nextProps) {\n    this.loadUsers();\n  }\n  componentWillUpdate() {\n    this.state.loaded && this.loadUsers();\n  }\n\n  loadUsers() {\n    if (!this.context.token) {\n      return\n    }\n    api.getUsers(this.context.token).then(res=> {\n      const newState = {\n        success: [],\n        errors: [],\n        users: []\n      }\n\n      if (res.success) {\n        newState.success = res.success;\n        newState.loaded = false;\n      }\n      if (res.errors) {\n        newState.errors = res.errors;\n      }\n      if (res.users) {\n        newState.users = res.users;\n      }\n\n      this.setState(() => newState );\n    })\n  }\n\n  render() {\n    if (!this.context.isAuthenticated) {\n      return (\n        <Redirect to={{ pathname: '/login', state: {\n            from: { pathname: '/users' },\n            error: [\n            '401 - Unauthorized',\n            'Please log in to view the requested resource.'\n          ]} }}/>\n      )\n    }\n\n    if (!this.context.isAdmin) {\n      return (\n        <div className=\"container\">\n          <AlertMessages\n            success={[]}\n            errors={this.state.errors}\n          />\n        </div>\n      )\n    }\n\n    return (\n      <div className=\"container\">\n        { (this.state.success || this.state.errors) &&\n          <AlertMessages\n            success={this.state.success}\n            errors={this.state.errors}\n          />}\n\n        <UsersBanner\n          heading='Users'\n          imgSrc={headerBg} />\n\n        <div className=\"breadcrumb\">\n          <Link to=\"/users/new\" className=\"btn btn-lg btn-success action-button\">\n            <i className=\"fa fa-user-plus\" aria-hidden=\"true\"></i> Add new user\n          </Link>\n        </div>\n\n        { this.state.users.length > 0 &&\n          <UsersTable\n            users={this.state.users}\n          />}\n      </div>\n    )\n  }\n}\n\nUsers.contextType = UserContext;\n\nUsers.propTypes = {\n  isAuthenticated: PropTypes.bool.isRequired,\n  isAdmin: PropTypes.bool.isRequired\n}\n\nexport default Users;","import React, { Component } from 'react';\nimport api from '../../utils/api';\nimport NewUserForm from './_NewUserForm';\nimport Jumbotron from '../shared/Jumbotron';\nimport headerBg from '../assets/moodyville-yard.jpg'\nimport AlertMessages from '../shared/AlertMessages';\nimport { UserContext } from '../users/UserContext'\n\nclass CreateUser extends Component {\n  state = {\n      success: [],\n      errors: [],\n      fireRedirect: false\n  }\n\n  onSubmit = (user) => {\n    api.createUser(this.context.token, user)\n      .then(res => {\n        if (res.errors) {\n          this.setState(() => ({\n            errors: res.errors\n          }))\n        } else {\n          this.setState(() => ({\n            errors: [],\n            fireRedirect: true\n          }))\n        }\n      });\n  }\n\n  render() {\n    if (!this.context.isAuthenticated) {\n      return (\n        <div className=\"container\">\n          <AlertMessages\n            success={[]}\n            error={[\n              '401 - Unauthorized',\n              'The request lacks valid authentication credentials for the target resource.',\n              'Please log in and try again.']}\n          />\n        </div>\n      )\n    }\n\n    if (!this.context.isAdmin) {\n      return (\n        <div className=\"container\">\n          <AlertMessages\n            success={[]}\n            errors={this.state.errors}\n          />\n        </div>\n      )\n    }\n\n    return (\n      <div className=\"container\">\n\n        <Jumbotron\n          heading=\"Create a New User\"\n          imgSrc={headerBg}/>\n\n        <div className=\"row\">\n          <div className=\"col-sm-6 col-sm-offset-3\">\n            <AlertMessages\n              success={this.state.success}\n              error={this.state.errors}\n              scroll={true} />\n\n            <NewUserForm\n              onSubmit={this.onSubmit}\n              fireRedirect={this.state.fireRedirect}\n              />\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nCreateUser.contextType = UserContext;\n\nexport default CreateUser;","import React, { Component} from 'react';\nimport { Redirect } from 'react-router'\n\nclass DeleteUser extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      email: ''\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n    this.props.onSubmit(this.state.email);\n  }\n\n  handleChange(event) {\n    const newState = {\n      [event.target.name]: event.target.value\n    }\n    this.setState( () => newState );\n  }\n\n  render() {\n    const { fireRedirect } = this.props\n\n    return(\n      <div className=\"panel panel-danger\">\n        <div className=\"panel-heading\">\n          <h3 className=\"panel-title\">Danger Zone</h3>\n        </div>\n        <div className=\"panel-body\">\n          <div className=\"row\">\n            <div className=\"col-md-offset-1 col-md-5 \">\n              <h4 className=\"text-danger\">Delete User Account</h4>\n              Once you delete a user, there is no going back. <br />\n              <em>Please be certain.</em><br /><br />\n            </div>\n\n            <div className=\"col-md-5\">\n              <form action={`${this.props.matchUrl}/delete`} onSubmit={this.handleSubmit}>\n                <div className=\"form-group\">\n                  <label htmlFor=\"\" className=\"text-danger\">Confirm action by typing user's email.</label>\n                  <input\n                    type=\"text\"\n                    name=\"email\"\n                    className=\"form-control\"\n                    autoComplete=\"off\"\n                    value={this.state.email}\n                    onChange={this.handleChange}/>\n                </div>\n\n                <div className=\"form-group\">\n                  <button type=\"submit\" className=\"btn btn-danger btn-lg\">Delete User</button>\n                </div>\n              </form>\n              { fireRedirect && (\n                <Redirect to={'/users'}/>\n              ) }\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n};\n\nexport default DeleteUser;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst ManageUserTable = props => {\n  return (\n    <div className=\"panel panel-default\">\n      {/* Default panel contents */}\n      <div className=\"panel-heading\"><strong>User Details</strong></div>\n\n      {/* List group */}\n      <ul className=\"list-group\">\n        <li className=\"list-group-item\">\n          <div className=\"row\">\n            <div className=\"col-sm-3\"><strong>First Name</strong></div>\n            <div className=\"col-sm-9\"> {props.user.firstName}</div>\n          </div>\n        </li>\n        <li className=\"list-group-item\">\n          <div className=\"row\">\n            <div className=\"col-sm-3\"><strong>Last Name</strong></div>\n            <div className=\"col-sm-9\"> {props.user.lastName} </div>\n          </div>\n        </li>\n        <li className=\"list-group-item\">\n          <div className=\"row\">\n            <div className=\"col-sm-3\"><strong>Email</strong></div>\n            <div className=\"col-sm-9\"> {props.user.email}</div>\n          </div>\n        </li>\n        <li className=\"list-group-item\">\n          <div className=\"row\">\n            <div className=\"col-sm-3\"><strong>Account Type</strong></div>\n            <div className=\"col-sm-9\"> {props.user.accountType} </div>\n          </div>\n        </li>\n        <li className=\"list-group-item\">\n          <div className=\"row\">\n            <div className=\"col-sm-3\"><strong>Created</strong></div>\n            <div className=\"col-sm-9\"> {props.user.created} </div>\n          </div>\n        </li>\n      </ul>\n    </div>\n  );\n};\n\nManageUserTable.propTypes = {\n  user: PropTypes.object.isRequired\n}\n\nexport default ManageUserTable;","import React, { Component} from 'react';\nimport api from '../../utils/api';\nimport DeleteUser from './DeleteUser';\nimport ManageUserTable from './_ManageUserTable';\nimport Jumbotron from '../shared/Jumbotron';\nimport headerBg from '../assets/header-img.jpg'\nimport AlertMessages from '../shared/AlertMessages';\nimport { UserContext } from '../users/UserContext'\nimport {Redirect} from \"react-router-dom\";\n\n\nclass ManageUser extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      success: [],\n      errors: [],\n      user: {},\n      fireRedirect: false,\n      loaded: true\n    }\n    this.onSubmit = this.onSubmit.bind(this)\n  }\n\n  componentDidMount() {\n    this.loadUser()\n  }\n\n  componentWillUpdate() {\n    this.state.loaded && this.loadUser()\n  }\n\n  onSubmit(email) {\n    api.deleteUser(this.context.token, email, this.props.match.url)\n      .then(res => {\n        if(res.errors) {\n          this.setState(() => ({\n            errors: res.errors\n          }));\n        } else{\n          this.setState(() => ({\n            errors: [],\n            fireRedirect: true\n          }));\n        }\n      });\n  }\n\n  loadUser() {\n    if (!this.context.token) {\n      return\n    }\n    api.getUser(this.context.token, this.props.match.url).then(res => {\n      const newState = {\n        success: '',\n        errors: '',\n        user: {}\n      }\n\n      if (res.success) {\n        newState.success = res.success;\n      }\n      if (res.errors) {\n        newState.errors = res.errors;\n      }\n      if (res.user) {\n        newState.loaded = false\n        newState.user = res.user;\n      }\n      this.setState(() => newState);\n    })\n  }\n\n\n  render() {\n    if (!this.context.isAuthenticated) {\n      return (\n          <Redirect to={{ pathname: '/login', state: {\n              from: { pathname: '/users' },\n              error: [\n                '401 - Unauthorized',\n                'Please log in to view the requested resource.'\n              ]} }}/>\n      )\n    }\n    return(\n      <div className='container'>\n\n        <Jumbotron\n          heading=\"Manage User\"\n          imgSrc={headerBg}/>\n\n        { (this.state.success || this.state.errors) &&\n          <AlertMessages\n            success={this.state.success}\n            errors={this.state.errors}/> }\n\n        { this.state.user &&\n          <ManageUserTable\n            user={this.state.user}\n            /> }\n\n        <DeleteUser\n          onSubmit={this.onSubmit}\n          matchUrl={this.props.match.url}\n          fireRedirect={this.state.fireRedirect}\n          />\n      </div>\n    )\n  }\n}\n\nManageUser.contextType = UserContext;\n\nexport default ManageUser;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\n\nconst MillsTablePaginate = props => {\n  const nextDisabled = props.page === props.pages;\n  const prevDisabled = props.page === 1;\n\n  return (\n    <div className='row paginate'>\n      <div className='col-sm-3 col-sm-offset-0 col-xs-8 col-xs-offset-2'>\n        <Link\n          to={`?p=${(props.page - 1)}&limit=${props.limit}${props.searchQuery ? '&q=' + props.searchQuery : ''}${props.searchRegion ? '&r=' + props.searchRegion : ''}${props.searchType ? '&t=' + props.searchType : ''}${props.searchProduct ? '&pr=' + props.searchProduct : ''}${props.searchSpecies ? '&sp=' + props.searchSpecies : ''}`}\n          className='btn btn-default btn-block'\n          onClick={event => prevDisabled && event.preventDefault()}\n          disabled={prevDisabled}>\n          <i className=\"fa fa-angle-left\" aria-hidden=\"true\"></i>\n          &nbsp; Back\n        </Link>\n      </div>\n      <div className='col-sm-6 col-sm-offset-1  col-xs-12 text-center text-middle pagination-info'>\n        <span>\n          Page <strong>{props.page}</strong> of <strong>{props.pages}</strong> (<strong>{props.total}</strong>  mills in total)\n        </span>\n      </div>\n      <div className='col-sm-3 col-sm-offset-2 col-xs-8 col-xs-offset-2'>\n        <Link\n          to={`?p=${(props.page + 1)}&limit=${props.limit}${props.searchQuery ? '&q=' + props.searchQuery : ''}${props.searchRegion ? '&r=' + props.searchRegion : ''}${props.searchType ? '&t=' + props.searchType : ''}${props.searchProduct ? '&pr=' + props.searchProduct : ''}${props.searchSpecies ? '&sp=' + props.searchSpecies : ''}`}\n          className='btn btn-default btn-block'\n          onClick={event => nextDisabled && event.preventDefault()}\n          disabled={nextDisabled}\n          >\n          Next &nbsp;\n          <i className=\"fa fa-angle-right\" aria-hidden=\"true\"></i>\n        </Link>\n      </div>\n    </div>\n  );\n};\n\nMillsTablePaginate.propTypes = {\n  page: PropTypes.number.isRequired,\n  limit: PropTypes.number.isRequired,\n  searchQuery: PropTypes.string.isRequired,\n  searchRegion: PropTypes.string.isRequired,\n  searchType: PropTypes.string.isRequired,\n  searchProduct: PropTypes.string.isRequired,\n  searchSpecies: PropTypes.string.isRequired,\n};\n\nexport default MillsTablePaginate;","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport MillsTablePaginate from './_MillsTablePaginate';\n\nconst MillsTable = props => {\n  return (\n    <div>\n      <MillsTablePaginate\n        page={props.metaData.page}\n        pages={props.metaData.pages}\n        total={props.metaData.total}\n        limit={props.metaData.limit}\n        searchQuery={props.searchQuery}\n        searchRegion={props.searchRegion}\n        searchType={props.searchType}\n        searchProduct={props.searchProduct}\n        searchSpecies={props.searchSpecies}/>\n      <table className=\"table table-bordered table-hover table-striped mills-table\">\n        <thead>\n          <tr>\n            <th>Name</th>\n            <th className=\"hidden-xs\">Type</th>\n            <th className=\"text-center\">Region</th>\n            <th className=\"text-center\">Status</th>\n          </tr>\n        </thead>\n        <tbody>\n          {props.mills.map(mill => (\n              <tr key={mill.uuid}>\n                <td>\n                  <Link to={`/mills/${mill._id}`} className=\"mills-table-link\">\n                      {mill.name}\n                  </Link>\n                </td>\n                <td className=\"hidden-xs\"> {mill.type} </td>\n                <td className=\"text-center\"> {mill.region} </td>\n                <td className=\"text-center\"> {mill.qualifications.millStatus} </td>\n              </tr>\n            )\n          )}\n        </tbody>\n      </table>\n      <MillsTablePaginate\n        page={props.metaData.page}\n        pages={props.metaData.pages}\n        limit={props.metaData.limit}\n        total={props.metaData.total}\n        searchQuery={props.searchQuery}\n        searchRegion={props.searchRegion}\n        searchType={props.searchType}\n        searchProduct={props.searchProduct}\n        searchSpecies={props.searchSpecies}\n        />\n    </div>\n  )\n};\n\nMillsTable.propTypes = {\n  mills: PropTypes.array.isRequired,\n  isAdmin: PropTypes.bool.isRequired,\n  handleDelete: PropTypes.func.isRequired,\n  searchQuery: PropTypes.string.isRequired,\n  searchRegion: PropTypes.string.isRequired,\n  searchType: PropTypes.string.isRequired,\n  searchProduct: PropTypes.string.isRequired,\n  searchSpecies: PropTypes.string.isRequired\n};\n\nexport default MillsTable;","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nclass Collapsible extends Component {\n  constructor(props) {\n    super(props);\n\n    this.timeout = undefined;\n\n    // Defaults the dropdown to be closed\n    if (props.open) {\n      this.state = {\n        isClosed: false,\n        shouldSwitchAutoOnNextCycle: false,\n        height: 'auto',\n        transition: 'none',\n        hasBeenOpened: true,\n        overflow: props.overflowWhenOpen,\n        inTransition: false,\n      };\n    } else {\n      this.state = {\n        isClosed: true,\n        shouldSwitchAutoOnNextCycle: false,\n        height: 0,\n        transition: `height ${props.transitionTime}ms ${props.easing}`,\n        hasBeenOpened: false,\n        overflow: 'hidden',\n        inTransition: false,\n      };\n    }\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.state.shouldOpenOnNextCycle) {\n      this.continueOpenCollapsible();\n    }\n\n    if (\n      prevState.height === 'auto' &&\n      this.state.shouldSwitchAutoOnNextCycle === true\n    ) {\n      window.clearTimeout(this.timeout);\n      this.timeout = window.setTimeout(() => {\n        // Set small timeout to ensure a true re-render\n        this.setState({\n          height: 0,\n          overflow: 'hidden',\n          isClosed: true,\n          shouldSwitchAutoOnNextCycle: false,\n        });\n      }, 50);\n    }\n\n    // If there has been a change in the open prop (controlled by accordion)\n    if (prevProps.open !== this.props.open) {\n      if (this.props.open === true) {\n        this.openCollapsible();\n        this.props.onOpening();\n      } else {\n        this.closeCollapsible();\n        this.props.onClosing();\n      }\n    }\n  }\n\n  componentWillUnmount() {\n    window.clearTimeout(this.timeout);\n  }\n\n  closeCollapsible() {\n    this.setState({\n      shouldSwitchAutoOnNextCycle: true,\n      height: this.innerRef.scrollHeight,\n      transition: `height ${\n        this.props.transitionCloseTime\n          ? this.props.transitionCloseTime\n          : this.props.transitionTime\n      }ms ${this.props.easing}`,\n      inTransition: true,\n    });\n  }\n\n  openCollapsible() {\n    this.setState({\n      inTransition: true,\n      shouldOpenOnNextCycle: true,\n    });\n  }\n\n  continueOpenCollapsible = () => {\n    this.setState({\n      height: this.innerRef.scrollHeight,\n      transition: `height ${this.props.transitionTime}ms ${this.props.easing}`,\n      isClosed: false,\n      hasBeenOpened: true,\n      inTransition: true,\n      shouldOpenOnNextCycle: false,\n    });\n  };\n\n  handleTriggerClick = (event) => {\n    if (this.props.triggerDisabled || this.state.inTransition) {\n      return;\n    }\n\n    event.preventDefault();\n\n    if (this.props.handleTriggerClick) {\n      this.props.handleTriggerClick(this.props.accordionPosition);\n    } else {\n      if (this.state.isClosed === true) {\n        this.openCollapsible();\n        this.props.onOpening();\n        this.props.onTriggerOpening();\n      } else {\n        this.closeCollapsible();\n        this.props.onClosing();\n        this.props.onTriggerClosing();\n      }\n    }\n  };\n\n  renderNonClickableTriggerElement() {\n    if (\n      this.props.triggerSibling &&\n      typeof this.props.triggerSibling === 'string'\n    ) {\n      return (\n        <span className={`${this.props.classParentString}__trigger-sibling`}>\n          {this.props.triggerSibling}\n        </span>\n      );\n    } else if (\n      this.props.triggerSibling &&\n      typeof this.props.triggerSibling === 'function'\n    ) {\n      return this.props.triggerSibling();\n    } else if (this.props.triggerSibling) {\n      return <this.props.triggerSibling />;\n    }\n    return null;\n  }\n\n  handleTransitionEnd = (e) => {\n    // only handle transitions that origin from the container of this component\n    if (e.target !== this.innerRef) {\n      return;\n    }\n    // Switch to height auto to make the container responsive\n    if (!this.state.isClosed) {\n      this.setState({\n        height: 'auto',\n        overflow: this.props.overflowWhenOpen,\n        inTransition: false,\n      });\n      this.props.onOpen();\n    } else {\n      this.setState({ inTransition: false });\n      this.props.onClose();\n    }\n  };\n\n  setInnerRef = (ref) => (this.innerRef = ref);\n\n  render() {\n    const dropdownStyle = {\n      height: this.state.height,\n      WebkitTransition: this.state.transition,\n      msTransition: this.state.transition,\n      transition: this.state.transition,\n      overflow: this.state.overflow,\n    };\n\n    var openClass = this.state.isClosed ? 'is-closed' : 'is-open';\n    var disabledClass = this.props.triggerDisabled ? 'is-disabled' : '';\n\n    //If user wants different text when tray is open\n    var trigger =\n      this.state.isClosed === false && this.props.triggerWhenOpen !== undefined\n        ? this.props.triggerWhenOpen\n        : this.props.trigger;\n    const ContentContainerElement = this.props.contentContainerTagName;\n\n    // If user wants a trigger wrapping element different than 'span'\n    const TriggerElement = this.props.triggerTagName;\n\n    // Don't render children until the first opening of the Collapsible if lazy rendering is enabled\n    var children =\n      this.props.lazyRender &&\n      !this.state.hasBeenOpened &&\n      this.state.isClosed &&\n      !this.state.inTransition\n        ? null\n        : this.props.children;\n\n    // Construct CSS classes strings\n    const triggerClassString = `${\n      this.props.classParentString\n    }__trigger ${openClass} ${disabledClass} ${\n      this.state.isClosed\n        ? this.props.triggerClassName\n        : this.props.triggerOpenedClassName\n    }`;\n    const parentClassString = `${this.props.classParentString} ${\n      this.state.isClosed ? this.props.className : this.props.openedClassName\n    }`;\n    const outerClassString = `${this.props.classParentString}__contentOuter ${this.props.contentOuterClassName}`;\n    const innerClassString = `${this.props.classParentString}__contentInner ${this.props.contentInnerClassName}`;\n\n    return (\n      <ContentContainerElement\n        className={parentClassString.trim()}\n        {...this.props.containerElementProps}\n      >\n        <TriggerElement\n          className={triggerClassString.trim()}\n          onClick={this.handleTriggerClick}\n          style={this.props.triggerStyle && this.props.triggerStyle}\n          onKeyPress={(event) => {\n            const { key } = event;\n            if (\n              (key === ' ' &&\n                this.props.triggerTagName.toLowerCase() !== 'button') ||\n              key === 'Enter'\n            ) {\n              this.handleTriggerClick(event);\n            }\n          }}\n          tabIndex={this.props.tabIndex && this.props.tabIndex}\n          {...this.props.triggerElementProps}\n        >\n          <span className=\"text-muted\">\n            {trigger}\n          </span>\n        </TriggerElement>\n\n        {this.renderNonClickableTriggerElement()}\n\n        <div\n          className={outerClassString.trim()}\n          style={dropdownStyle}\n          onTransitionEnd={this.handleTransitionEnd}\n          ref={this.setInnerRef}\n          hidden={\n            this.props.contentHiddenWhenClosed &&\n            this.state.isClosed &&\n            !this.state.inTransition\n          }\n        >\n          <div className={innerClassString.trim()}>{children}</div>\n        </div>\n      </ContentContainerElement>\n    );\n  }\n}\n\nCollapsible.propTypes = {\n  transitionTime: PropTypes.number,\n  transitionCloseTime: PropTypes.number,\n  triggerTagName: PropTypes.string,\n  easing: PropTypes.string,\n  open: PropTypes.bool,\n  containerElementProps: PropTypes.object,\n  triggerElementProps: PropTypes.object,\n  classParentString: PropTypes.string,\n  openedClassName: PropTypes.string,\n  triggerStyle: PropTypes.object,\n  triggerClassName: PropTypes.string,\n  triggerOpenedClassName: PropTypes.string,\n  contentOuterClassName: PropTypes.string,\n  contentInnerClassName: PropTypes.string,\n  accordionPosition: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  handleTriggerClick: PropTypes.func,\n  onOpen: PropTypes.func,\n  onClose: PropTypes.func,\n  onOpening: PropTypes.func,\n  onClosing: PropTypes.func,\n  onTriggerOpening: PropTypes.func,\n  onTriggerClosing: PropTypes.func,\n  trigger: PropTypes.oneOfType([PropTypes.string, PropTypes.element]),\n  triggerWhenOpen: PropTypes.oneOfType([PropTypes.string, PropTypes.element]),\n  triggerDisabled: PropTypes.bool,\n  lazyRender: PropTypes.bool,\n  overflowWhenOpen: PropTypes.oneOf([\n    'hidden',\n    'visible',\n    'auto',\n    'scroll',\n    'inherit',\n    'initial',\n    'unset',\n  ]),\n  contentHiddenWhenClosed: PropTypes.bool,\n  triggerSibling: PropTypes.oneOfType([PropTypes.element, PropTypes.func]),\n  tabIndex: PropTypes.number,\n  contentContainerTagName: PropTypes.string,\n};\n\nCollapsible.defaultProps = {\n  transitionTime: 200,\n  transitionCloseTime: null,\n  triggerTagName: 'span',\n  easing: 'linear',\n  open: false,\n  classParentString: 'Collapsible',\n  triggerDisabled: false,\n  lazyRender: false,\n  overflowWhenOpen: 'hidden',\n  contentHiddenWhenClosed: false,\n  openedClassName: '',\n  triggerStyle: null,\n  triggerClassName: '',\n  triggerOpenedClassName: '',\n  contentOuterClassName: '',\n  contentInnerClassName: '',\n  className: '',\n  triggerSibling: null,\n  onOpen: () => {},\n  onClose: () => {},\n  onOpening: () => {},\n  onClosing: () => {},\n  onTriggerOpening: () => {},\n  onTriggerClosing: () => {},\n  tabIndex: null,\n  contentContainerTagName: 'div',\n};\n\nexport default Collapsible;","import React from 'react';\n// import scroll from '../../utils/scrollTo';\nimport PropTypes from 'prop-types';\nimport Form from 'react-bootstrap/Form';\nimport InputGroup from 'react-bootstrap/InputGroup';\nimport FormControl from 'react-bootstrap/FormControl';\nimport Collapsible from './Collapsible';\n\n\ntype Props = {\n    ref: any;\n    onChange: any;\n    onKeyUp: any;\n    onFocus: any;\n    onRegionChange: any;\n    onTypeChange: any;\n    onProductChange: any;\n    onSpeciesChange: any;\n    searchQuery: any;\n    reloadMills: any;\n    handleClick: any;\n}\n\nconst SearchMills = (props: Props) => {\n\n  const collapsibleTitle = (title: string) => (\n    <div>\n      <i className=\"fa fa-caret-down\" aria-hidden=\"true\" />&nbsp;\n      <span>{title}</span>\n    </div>\n  );\n\n  const collapsibleTitleOpen = (title: string) => (\n    <div>\n      <i className=\"fa fa-caret-up\" aria-hidden=\"true\" />&nbsp;\n      <span>{title}</span>\n    </div>\n  );\n\n  return (\n    <div className=\"col-2\">\n      <h4 className=\"text-muted\">Search:</h4>\n        <Form.Group controlId=\"searchTerm\">\n          <Form.Control\n            ref={props.ref}\n            name=\"search\"\n            value={props.searchQuery}\n            placeholder=\"name or grading\"\n            onChange={props.onChange}\n            onKeyUp={props.onKeyUp}\n            onFocus={props.onFocus}>\n          </Form.Control>\n        </Form.Group>\n        <h6 className=\"text-muted\">Filter:</h6>\n        <Collapsible trigger={collapsibleTitle(\"Region\")} triggerWhenOpen={collapsibleTitleOpen(\"Region\")} open>\n          <Form.Group controlId=\"filterRegion\">\n            <Form.Check type=\"checkbox\" label=\"Alberta\" onChange={props.onRegionChange} value=\"AB\"/>\n            <Form.Check type=\"checkbox\" label=\"British Columbia\" onChange={props.onRegionChange} value=\"BC\"/>\n            <Form.Check type=\"checkbox\" label=\"Manitoba\" onChange={props.onRegionChange} value=\"MB\"/>\n            <Form.Check type=\"checkbox\" label=\"New Brunswick\" onChange={props.onRegionChange} value=\"NB\"/>\n            <Form.Check type=\"checkbox\" label=\"Newfoundland\" onChange={props.onRegionChange} value=\"NL\"/>\n            <Form.Check type=\"checkbox\" label=\"Northwest Territories\" onChange={props.onRegionChange} value=\"NT\"/>\n            <Form.Check type=\"checkbox\" label=\"Nova Scotia\" onChange={props.onRegionChange} value=\"NS\"/>\n            <Form.Check type=\"checkbox\" label=\"Nunavut\" onChange={props.onRegionChange} value=\"NU\"/>\n            <Form.Check type=\"checkbox\" label=\"Ontario\" onChange={props.onRegionChange} value=\"ON\"/>\n            <Form.Check type=\"checkbox\" label=\"Prince Edward Island\" onChange={props.onRegionChange} value=\"PE\"/>\n            <Form.Check type=\"checkbox\" label=\"Quebec\" onChange={props.onRegionChange} value=\"QC\"/>\n            <Form.Check type=\"checkbox\" label=\"Saskatchewan\" onChange={props.onRegionChange} value=\"SK\"/>\n            <Form.Check type=\"checkbox\" label=\"Yukon\" onChange={props.onRegionChange} value=\"YT\"/>\n          </Form.Group>\n        </Collapsible>\n        <Collapsible trigger={collapsibleTitle(\"Type\")} triggerWhenOpen={collapsibleTitleOpen(\"Type\")}>\n          <Form.Group controlId=\"filterType\">\n            <Form.Check type=\"checkbox\" label=\"Mill\" onChange={props.onTypeChange} value=\"Mill\"/>\n            <Form.Check type=\"checkbox\" label=\"Remanufacturer\" onChange={props.onTypeChange} value=\"Remanufacturer\"/>\n            <Form.Check type=\"checkbox\" label=\"Wholesaler\" onChange={props.onTypeChange} value=\"Wholesalers\"/>\n            <Form.Check type=\"checkbox\" label=\"Exporter\" onChange={props.onTypeChange} value=\"Exporters\"/>\n            <Form.Check type=\"checkbox\" label=\"Broker\" onChange={props.onTypeChange} value=\"Brokers\"/>\n            <Form.Check type=\"checkbox\" label=\"Shake & Shingle\" onChange={props.onTypeChange} value=\"Shake & Shingle\"/>\n            <Form.Check type=\"checkbox\" label=\"Pulp & Paper \" onChange={props.onTypeChange} value=\"Pulp & Paper \"/>\n            <Form.Check type=\"checkbox\" label=\"Panel\" onChange={props.onTypeChange} value=\"Panel\"/>\n          </Form.Group>\n        </Collapsible>\n        <Collapsible trigger={collapsibleTitle(\"Product\")} triggerWhenOpen={collapsibleTitleOpen(\"Product\")}>\n          <Form.Group controlId=\"filterType\">\n            <Form.Check type=\"checkbox\" label=\"Boards\" onChange={props.onProductChange} value=\"Boards\"/>\n            <Form.Check type=\"checkbox\" label=\"Dimension\" onChange={props.onProductChange} value=\"Dimension\"/>\n            <Form.Check type=\"checkbox\" label=\"Studs\" onChange={props.onProductChange} value=\"studs\"/>\n            <Form.Check type=\"checkbox\" label=\"Rough Lumber\" onChange={props.onProductChange} value=\"Rough Lumber\"/>\n            <Form.Check type=\"checkbox\" label=\"Timbers\" onChange={props.onProductChange} value=\"Timbers\"/>\n            <Form.Check type=\"checkbox\" label=\"Posts\" onChange={props.onProductChange} value=\"Posts\"/>\n            <Form.Check type=\"checkbox\" label=\"Poles\" onChange={props.onProductChange} value=\"Poles\"/>\n            <Form.Check type=\"checkbox\" label=\"Beams\" onChange={props.onProductChange} value=\"Beams\"/>\n            <Form.Check type=\"checkbox\" label=\"OSB\" onChange={props.onProductChange} value=\"OSB\"/>\n            <Form.Check type=\"checkbox\" label=\"Plywood\" onChange={props.onProductChange} value=\"Plywood\"/>\n            <Form.Check type=\"checkbox\" label=\"MDF\" onChange={props.onProductChange} value=\"MDF\"/>\n            <Form.Check type=\"checkbox\" label=\"Particleboard\" onChange={props.onProductChange} value=\"Particleboard\"/>\n            <Form.Check type=\"checkbox\" label=\"Veneers\" onChange={props.onProductChange} value=\"Veneers\"/>\n            <Form.Check type=\"checkbox\" label=\"Millwork\" onChange={props.onProductChange} value=\"Millwork\"/>\n            <Form.Check type=\"checkbox\" label=\"Wood Panels / Panelling\" onChange={props.onProductChange} value=\"Wood Panels / Panelling\"/>\n            <Form.Check type=\"checkbox\" label=\"Mouldings\" onChange={props.onProductChange} value=\"Mouldings\"/>\n            <Form.Check type=\"checkbox\" label=\"Trims\" onChange={props.onProductChange} value=\"Trims\"/>\n            <Form.Check type=\"checkbox\" label=\"Flooring\" onChange={props.onProductChange} value=\"Flooring\"/>\n            <Form.Check type=\"checkbox\" label=\"Shingles\" onChange={props.onProductChange} value=\"Shingles\"/>\n            <Form.Check type=\"checkbox\" label=\"Shakes\" onChange={props.onProductChange} value=\"Shakes\"/>\n            <Form.Check type=\"checkbox\" label=\"Trusses\" onChange={props.onProductChange} value=\"Trusses\"/>\n            <Form.Check type=\"checkbox\" label=\"Siding\" onChange={props.onProductChange} value=\"Siding\"/>\n            <Form.Check type=\"checkbox\" label=\"Decking\" onChange={props.onProductChange} value=\"Decking\"/>\n            <Form.Check type=\"checkbox\" label=\"Fencing\" onChange={props.onProductChange} value=\"Fencing\"/>\n            <Form.Check type=\"checkbox\" label=\"Pallet Stock\" onChange={props.onProductChange} value=\"Pallet Stock\"/>\n            <Form.Check type=\"checkbox\" label=\"Furring Strips\" onChange={props.onProductChange} value=\"Furring Strips\"/>\n            <Form.Check type=\"checkbox\" label=\"Channels\" onChange={props.onProductChange} value=\"Channels\"/>\n            <Form.Check type=\"checkbox\" label=\"Bevels\" onChange={props.onProductChange} value=\"Bevels\"/>\n            <Form.Check type=\"checkbox\" label=\"Pulp\" onChange={props.onProductChange} value=\"Pulp\"/>\n            <Form.Check type=\"checkbox\" label=\"Paper\" onChange={props.onProductChange} value=\"Paper\"/>\n            <Form.Check type=\"checkbox\" label=\"Tissue\" onChange={props.onProductChange} value=\"Tissue\"/>\n            <Form.Check type=\"checkbox\" label=\"Engineered Wood\" onChange={props.onProductChange} value=\"Engineered Wood\"/>\n          </Form.Group>\n        </Collapsible>\n        <Collapsible trigger={collapsibleTitle(\"Species\")} triggerWhenOpen={collapsibleTitleOpen(\"Species\")}>\n          <Form.Group controlId=\"filterType\">\n            <Form.Check type=\"checkbox\" label=\"Spruce\" onChange={props.onSpeciesChange} value=\"Spruce\"/>\n            <Form.Check type=\"checkbox\" label=\"Pine\" onChange={props.onSpeciesChange} value=\"Pine\"/>\n            <Form.Check type=\"checkbox\" label=\"Lodgepole Pine\" onChange={props.onSpeciesChange} value=\"Lodgepole Pine\"/>\n            <Form.Check type=\"checkbox\" label=\"Fir\" onChange={props.onSpeciesChange} value=\"Fir\"/>\n            <Form.Check type=\"checkbox\" label=\"Douglas Fir\" onChange={props.onSpeciesChange} value=\"Douglas Fir\"/>\n            <Form.Check type=\"checkbox\" label=\"Poplar\" onChange={props.onSpeciesChange} value=\"Poplar\"/>\n            <Form.Check type=\"checkbox\" label=\"Hemlock\" onChange={props.onSpeciesChange} value=\"Hemlock\"/>\n            <Form.Check type=\"checkbox\" label=\"Maple\" onChange={props.onSpeciesChange} value=\"Maple\"/>\n            <Form.Check type=\"checkbox\" label=\"Birch\" onChange={props.onSpeciesChange} value=\"Birch\"/>\n            <Form.Check type=\"checkbox\" label=\"White Pine\" onChange={props.onSpeciesChange} value=\"White Pine\"/>\n            <Form.Check type=\"checkbox\" label=\"Red Pine\" onChange={props.onSpeciesChange} value=\"Boards\"/>\n            <Form.Check type=\"checkbox\" label=\"Western Red Cedar\" onChange={props.onSpeciesChange} value=\"Western Red Cedar\"/>\n            <Form.Check type=\"checkbox\" label=\"Sitka Spruce\" onChange={props.onSpeciesChange} value=\"Sitka Spruce\"/>\n            <Form.Check type=\"checkbox\" label=\"Yellow Cedar\" onChange={props.onSpeciesChange} value=\"Yellow Cedar\"/>\n            <Form.Check type=\"checkbox\" label=\"Cypress\" onChange={props.onSpeciesChange} value=\"Cypress\"/>\n            <Form.Check type=\"checkbox\" label=\"Balsam\" onChange={props.onSpeciesChange} value=\"Balsam\"/>\n            <Form.Check type=\"checkbox\" label=\"Maple\" onChange={props.onSpeciesChange} value=\"Maple\"/>\n            <Form.Check type=\"checkbox\" label=\"Oak\" onChange={props.onSpeciesChange} value=\"Oak\"/>\n            <Form.Check type=\"checkbox\" label=\"Cherry\" onChange={props.onSpeciesChange} value=\"Cherry\"/>\n            <Form.Check type=\"checkbox\" label=\"Hickory\" onChange={props.onSpeciesChange} value=\"Hickory\"/>\n            <Form.Check type=\"checkbox\" label=\"Walnut\" onChange={props.onSpeciesChange} value=\"Walnut\"/>\n            <Form.Check type=\"checkbox\" label=\"Jack Pine\" onChange={props.onSpeciesChange} value=\"Jack Pine\"/>\n            <Form.Check type=\"checkbox\" label=\"Beech\" onChange={props.onSpeciesChange} value=\"Beech\"/>\n            <Form.Check type=\"checkbox\" label=\"Alder\" onChange={props.onSpeciesChange} value=\"Alder\"/>\n            <Form.Check type=\"checkbox\" label=\"Ash\" onChange={props.onSpeciesChange} value=\"Ash\"/>\n            <Form.Check type=\"checkbox\" label=\"Elm\" onChange={props.onSpeciesChange} value=\"Elm\"/>\n            <Form.Check type=\"checkbox\" label=\"Walnut\" onChange={props.onSpeciesChange} value=\"Boards\"/>\n            <Form.Check type=\"checkbox\" label=\"Sycamore\" onChange={props.onSpeciesChange} value=\"Sycamore\"/>\n            <Form.Check type=\"checkbox\" label=\"Basswood\" onChange={props.onSpeciesChange} value=\"Basswood\"/>\n            <Form.Check type=\"checkbox\" label=\"Western Spruce-Pine-Fir\" onChange={props.onSpeciesChange} value=\"Western Spruce-Pine-Fir\"/>\n            <Form.Check type=\"checkbox\" label=\"Eastern Spruce-Pine-Fir\" onChange={props.onSpeciesChange} value=\"Eastern Spruce-Pine-Fir\"/>\n          </Form.Group>\n        </Collapsible>\n          <div>\n</div>\n      {/* <div className=\"input-group-btn clear-search\">\n        <span className=\"btn btn-default btn-search\" onClick={props.reloadMills}>\n          <i className={`fa fa-close ${props.searchQuery ? 'visible' : ''}`}></i>\n        </span>\n        <button className=\"btn btn-default btn-search\" type=\"submit\" onClick={props.handleClick}>\n          <i className=\"glyphicon glyphicon-search\"></i>\n        </button>\n      </div> */}\n    </div>\n  )\n};\n\nSearchMills.propTypes = {\n  ref: PropTypes.func.isRequired,\n  onKeyUp: PropTypes.func.isRequired,\n  onFocus: PropTypes.func.isRequired,\n  onRegionChange: PropTypes.func.isRequired,\n  onTypeChange: PropTypes.func.isRequired,\n  onProductChange: PropTypes.func.isRequired,\n  onSpeciesChange: PropTypes.func.isRequired,\n  searchQuery: PropTypes.func.isRequired,\n  reloadMills: PropTypes.func.isRequired,\n  handleClick: PropTypes.func.isRequired,\n};\n\n\nexport default SearchMills;","import React, { Component } from 'react';\nimport { Redirect, Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport querystring from 'querystring';\nimport api from '../../utils/api';\nimport MillsTable from './_MillsTable';\nimport scroll from '../../utils/scrollTo';\nimport Jumbotron from '../shared/Jumbotron';\nimport headerBg from '../assets/mills-header.jpg';\nimport AlertMessages from '../shared/AlertMessages';\nimport SearchMills from './_SearchMills';\n\nimport { UserContext } from '../users/UserContext'\n\nclass Mills extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      success: [],\n      errors: [],\n      mills: [],\n      searchTerm: [],\n      searchRegion: [],\n      searchType: [],\n      searchProduct: [],\n      searchSpecies: [],\n      searchQuery: '',\n      prevSearchInput: [],\n      data: {\n        page: 1,\n        pages: -1,\n        limit: 20,\n        total: 0,\n      }\n    }\n\n    this.baseQuery = `?p=${this.state.data.page}&limit=${this.state.data.limit}`;\n\n    this.loadMills = this.loadMills.bind(this);\n    this.reloadMills = this.reloadMills.bind(this);\n    this.handleInput = this.handleInput.bind(this);\n    this.handleRegionChange = this.handleRegionChange.bind(this);\n    this.handleTypeChange = this.handleTypeChange.bind(this);\n    this.handleProductChange = this.handleProductChange.bind(this);\n    this.handleSpeciesChange = this.handleSpeciesChange.bind(this);\n    this.handleClick = this.handleClick.bind(this);\n    this.handleDelete = this.handleDelete.bind(this);\n    this.onChange = this.onChange.bind(this);\n  }\n\n  componentWillMount() {\n    !this.props.history.location.search && this.props.history.push(this.baseQuery);\n  }\n\n  componentDidMount() {\n    this.loadMills();\n  }\n\n  componentWillReceiveProps(nextProps) {\n    this.loadMills();\n  }\n\n  loadMills() {\n    if (this.context.isAuthenticated) {\n      api.getMills(this.context.token, this.props.history.location.search).then(res => {\n        const newState = {\n          success: [],\n          errors: [],\n          mills: [],\n          searchTerm: [],\n          searchQuery: this.state.searchQuery,\n          searchRegion: this.state.searchRegion,\n          searchType: this.state.searchType,\n          searchSpecies: this.state.searchSpecies,\n          prevSearchInput: this.state.prevSearchInput,\n          data: {\n            page: res.page ? Number(res.page) : 1,\n            pages: res.pages,\n            limit: res.limit ? Number(res.limit) : 20,\n            total: res.total,\n          }\n        }\n\n        if (res.success) {\n          newState.success = res.success;\n        }\n        if (res.query) {\n          newState.searchTerm = res.query;\n        }\n        if (res.mills) {\n          newState.mills = res.mills;\n        }\n        this.setState(() => newState);\n      }).catch(err =>{\n        if (err.response && err.response.data ){\n          if (err.response.data.errors){\n            this.setState(() => ({ errors: err.response.data.errors }));\n          } else {\n            this.setState(() => ({ errors: [] }));\n          }\n        }\n      });\n    }\n  }\n\n  reloadMills(event) {\n    //this.searchInput.value = '';\n    this.setState({ searchQuery: '' });\n    this.props.history.push(this.baseQuery);\n    this.loadMills();\n  }\n\n  onChange(event) {\n    this.setState({searchQuery: event.target.value});\n  }\n\n  handleInput(event) {\n    const searchQuery = event.target.value;\n    this.setState({\n      searchQuery: searchQuery,\n      // prevSearchInput: this.state.prevSearchInput.concat(searchQuery)\n    });\n    if(searchQuery === '') { //&& this.state.prevSearchInput.slice(-2).shift() !== ''\n      // Reloads all mills if search bar is cleared\n      this.props.history.push(`${this.baseQuery}`);\n      this.loadMills();\n    }\n    if(event.key === 'Enter' || event.key === 'Tab') {\n      event.preventDefault();\n      this.props.history.push(`${this.baseQuery}&q=${searchQuery}&r=${this.state.searchRegion}`);\n      this.loadMills();\n    }\n  }\n\n  handleTypeChange(event) {\n    const inputType = event.target.value;\n    if (event.target.checked) {\n      this.setState({\n        searchType: this.state.searchType.concat(inputType)\n      }, () => {\n        console.log(\"Type set to: \" + this.state.searchType);\n        this.props.history.push(`${this.baseQuery}&q=${this.state.searchQuery}&r=${this.state.searchRegion}&t=${this.state.searchType}&pr=${this.state.searchProduct}&sp=${this.state.searchSpecies}`);\n      } );\n    } else {\n      this.setState({\n        searchType: this.state.searchType.filter((type) => type !== inputType)\n      }, () => {\n        this.props.history.push(`${this.baseQuery}&q=${this.state.searchQuery}&r=${this.state.searchRegion}&t=${this.state.searchType}&pr=${this.state.searchProduct}&sp=${this.state.searchSpecies}`);\n      });\n    } \n  }\n\n  handleRegionChange(event) {\n    const inputRegion = event.target.value;\n    if (event.target.checked) {\n      this.setState({\n        searchRegion: this.state.searchRegion.concat(inputRegion)\n      }, () => {\n        console.log(\"Region set to: \" + this.state.searchRegion);\n        this.props.history.push(`${this.baseQuery}&q=${this.state.searchQuery}&r=${this.state.searchRegion}&t=${this.state.searchType}&pr=${this.state.searchProduct}&sp=${this.state.searchSpecies}`);\n      } );\n    } else {\n      this.setState({\n        searchRegion: this.state.searchRegion.filter((region) => region !== inputRegion)\n      }, () => {\n        this.props.history.push(`${this.baseQuery}&q=${this.state.searchQuery}&r=${this.state.searchRegion}&t=${this.state.searchType}&pr=${this.state.searchProduct}&sp=${this.state.searchSpecies}`);\n      });\n    }   \n  }\n\n  handleProductChange(event) {\n    const inputProduct = event.target.value;\n    if (event.target.checked) {\n      this.setState({\n        searchProduct: this.state.searchProduct.concat(inputProduct)\n      }, () => {\n        console.log(\"Product set to: \" + this.state.searchProduct);\n        this.props.history.push(`${this.baseQuery}&q=${this.state.searchQuery}&r=${this.state.searchRegion}&t=${this.state.searchType}&pr=${this.state.searchProduct}&sp=${this.state.searchSpecies}`);\n      } );\n    } else {\n      this.setState({\n        searchProduct: this.state.searchProduct.filter((product) => product !== inputProduct)\n      }, () => {\n        this.props.history.push(`${this.baseQuery}&q=${this.state.searchQuery}&r=${this.state.searchRegion}&t=${this.state.searchType}&pr=${this.state.searchProduct}&sp=${this.state.searchSpecies}`);\n      });\n    }   \n  }\n\n  handleSpeciesChange(event) {\n    const inputSpecies = event.target.value;\n    if (event.target.checked) {\n      this.setState({\n        searchSpecies: this.state.searchSpecies.concat(inputSpecies)\n      }, () => {\n        console.log(\"Species set to: \" + this.state.searchSpecies);\n        this.props.history.push(`${this.baseQuery}&q=${this.state.searchQuery}&r=${this.state.searchRegion}&t=${this.state.searchType}&pr=${this.state.searchProduct}&sp=${this.state.searchSpecies}`);\n      } );\n    } else {\n      this.setState({\n        searchSpecies: this.state.searchSpecies.filter((species) => species !== inputSpecies)\n      }, () => {\n        this.props.history.push(`${this.baseQuery}&q=${this.state.searchQuery}&r=${this.state.searchRegion}&t=${this.state.searchType}&pr=${this.state.searchProduct}&sp=${this.state.searchSpecies}`);\n      });\n    }   \n  }\n\n  handleClick(event) {\n    const searchQuery = event.target.value.trim();\n    event.preventDefault();\n    this.props.history.push(`${this.baseQuery}&q=${searchQuery}`);\n    this.loadMills();\n  }\n\n  handleDelete(slug) {\n    const { mills } = this.state;\n    const snap = Object.assign([], mills)\n    const index = mills.indexOf(mills.find(mill => mill.slug === slug))\n    mills.splice(index, 1);\n\n    // optimistically remove the target mill from the component state\n    this.setState(() => (mills));\n\n    api.deleteMill(this.context.token, slug).then(res => {\n      const newState = {\n        success: [],\n        errors: []\n      };\n\n      if (res.success) {\n        newState.success = res.success;\n        this.setState(() => (newState));\n      }\n\n      if (res.errors) {\n        // if errors are returned, restore the original component state\n        newState.mills = snap;\n        newState.errors = res.errors;\n        this.setState(() => (newState));\n      }\n    });\n  }\n\n  render() {\n    if (!this.context.isAuthenticated) {\n      return (\n        <Redirect to={{ pathname: '/login', state: {\n          from: { pathname: '/mills' },\n          error: [\n            '401 - Unauthorized',\n            'Please log in to view the requested resource.'\n          ]} }}/>\n      )\n    }\n\n    return (\n     <div className=\"container\">\n        <Jumbotron\n          heading=\"Mills\"\n          imgSrc={headerBg}/>\n\n        { (this.state.success || this.state.errors) &&\n          <AlertMessages\n            success={this.state.success}\n            error={this.state.errors}\n            scroll={true}/> \n        }\n\n\n        <div className=\"row\">\n          {this.context.isAuthenticated &&\n              <SearchMills\n                ref={input => this.searchInput = input}\n                onKeyUp={this.handleInput}\n                onChange={this.onChange}\n                onRegionChange={this.handleRegionChange}\n                onTypeChange={this.handleTypeChange}\n                onProductChange={this.handleProductChange}\n                onSpeciesChange={this.handleSpeciesChange}\n                onFocus={() => scroll.to('.search-container')}\n                searchQuery={this.state.searchQuery}\n                reloadMills={this.reloadMills}\n                handleClick={this.handleClick}/>\n          }\n\n          {/* { this.state.searchTerm.length > 0 &&\n            <div className=\"alert alert-info\">\n              Search for <strong> {this.state.searchTerm} </strong> returned <strong> {this.state.data.total} </strong> {this.state.data.total === 1 ? 'result' : 'results'}\n            </div>\n          } */}\n\n          { this.context.token && this.state.mills.length > 0 &&\n            <div className=\"col\">\n              <MillsTable\n                mills={this.state.mills}\n                metaData={this.state.data}\n                searchQuery={this.state.searchQuery} //querystring.parse(this.props.history.location.search.slice(1))\n                searchRegion={this.state.searchRegion}\n                searchType={this.state.searchType}\n                searchProduct={this.state.searchProduct}\n                searchSpecies={this.state.searchSpecies}\n                isAdmin={this.context.isAdmin}\n                handleDelete={this.handleDelete} />\n            </div>\n          }\n        </div>\n      </div>\n    )\n  }\n}\n\nMills.contextType = UserContext;\n\nMills.propTypes = {\n  isAuthenticated: PropTypes.bool.isRequired,\n};\n\nexport default Mills;","import React, { Component } from 'react';\nimport Linkify from 'react-linkify';\n\n///////////////////////////////\n// Read-only helper components\n///////////////////////////////\n\nconst StrContent = props => {\n  return (\n    <td className='content-row'>\n      <span>\n        <Linkify>{props.content}</Linkify>\n      </span>\n      {/* props.isAdmin &&\n        <i className='fa fa-pencil' aria-hidden=\"true\" onClick={props.toggleEditable}></i> */\n      }\n    </td>\n  );\n};\n\nconst ArrContent = props => {\n  const titleize = content => content[0].toUpperCase() + content.slice(1);\n  return (\n    <td>\n      {props.content.map((content, i) => (\n        <span>\n          {content &&\n            <div key={i} className='content-row'>\n              <p key={i + 1} style={{display: 'inline-block', marginBottom: 0}}>\n                <Linkify>{titleize(content.trim())}</Linkify>\n              </p>\n              {/* props.isAdmin &&\n                <i key={i + 2} className='fa fa-pencil' aria-hidden=\"true\" onClick={props.toggleEditable}></i> */\n              }\n            </div>\n          }\n        </span>\n      ))}\n    </td>\n  );\n};\n\nconst Default = props => {\n  return(\n    <tr className='mill-table-data-row'>\n      <td>{props.sectionName}</td>\n      {props.contentType === 'str' ? (\n        <StrContent {...props} />\n      ) : (\n        <ArrContent {...props} />\n      )}\n    </tr>\n  );\n};\n\n\n////////////////////////\n// State-ful components\n////////////////////////\n\nclass Editable extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { content: this.props.content };\n\n    this.handleChange = this.handleChange.bind(this);\n    this.handleEdit = this.handleEdit.bind(this);\n  }\n\n  handleChange(event) {\n    //let content;\n    if(this.props.contentType === 'str') {\n      this.setState({ content: event.target.value });\n    } else {\n      this.setState({ content: event.target.value.split(',') });\n    }\n  }\n\n  handleEdit(event) {\n    const contentHasChanged = this.props.content !== this.state.content;\n    // Only send request for edit if enter key is pressed, or if the edit button\n    // is pressed (onBlur but w/ a relatedTarget), or else, on any other kind of\n    // blur, just toggle the editable state. This is a tad irritating/confusing\n    // because onBlur is fired before onClick (for the edit button), so catering\n    // to onBlur's higher temporal priority is necessary.\n    if(event.key === 'Enter' || (event.type === 'blur' && event.relatedTarget === this.submitEdit )) {\n      if(contentHasChanged) {\n        this.props.handleEdit({ [this.props.millKey]: this.state.content }, this.props.sectionName);\n        this.props.onContentUpdate(this.state.content);\n      } else {\n        this.props.toggleEditable();\n      }\n    } else if(event.type === 'blur') {\n      // If it's any other instance of blur, toggle editable\n      this.props.toggleEditable();\n    }\n  }\n\n  // Positions cursor at end of input on focus\n  handleOnFocus(event) {\n    let temp = event.target.value;\n    event.target.value = '';\n    event.target.value = temp;\n  }\n\n  render() {\n    return(\n      <tr className=\"mill-table-data-row\">\n        <td>{this.props.sectionName}</td>\n        <td>\n          <input\n            autoFocus\n            className='mill-table-data-input'\n            name=\"content\"\n            value={this.state.content}\n            onChange={this.handleChange}\n            onKeyUp={this.handleEdit}\n            onFocus={this.handleOnFocus}\n            onBlur={this.handleEdit}>\n          </input>\n          <button ref={btn => this.submitEdit = btn} className=\"btn btn-default mill-table-data-btn\" onClick={this.handleEdit}>\n            <i className=\"fa fa-check\" aria-hidden=\"true\"></i>\n          </button>\n        </td>\n      </tr>\n    );\n  }\n}\n\n\nclass MillTableDataRow extends Component {\n  constructor(props) {\n    super(props);\n\n    let contentType;\n    if(Array.isArray(this.props.content)) {\n      contentType = 'arr';\n    } else {\n      contentType = 'str';\n    }\n\n    this.state = {\n      editable: false,\n      content: this.props.content,\n      contentType: contentType\n    };\n\n    this.toggleEditable = this.toggleEditable.bind(this);\n    this.onContentUpdate = this.onContentUpdate.bind(this);\n  }\n\n  toggleEditable() { this.setState({ editable: !this.state.editable }); }\n\n  onContentUpdate(content) {\n    this.setState({\n      content: content,\n      editable: !this.state.editable\n    });\n  }\n\n  render() {\n    if(this.props.content[0]) {\n      if(this.state.editable) {\n        return (\n          <Editable\n            millKey={this.props.millKey}\n            sectionName={this.props.sectionName}\n            content={this.props.content}\n            toggleEditable={this.toggleEditable}\n            onContentUpdate={this.onContentUpdate}\n            handleEdit={this.props.handleEdit} />\n        );\n      } else {\n        return (\n          <Default\n            isAdmin={this.props.isAdmin}\n            sectionName={this.props.sectionName}\n            content={this.props.content}\n            contentType ={this.state.contentType}\n            toggleEditable={this.toggleEditable} />\n        );\n      }\n    } else {\n      return null;\n    }\n  }\n}\n\nexport default MillTableDataRow;","const orderedSections = [\n  'Name',\n  'Type',\n  'Region',\n  'Address',\n  'Location',\n  'Phone',\n  'Fax',\n  'Email',\n  'Website',\n  'Contact Persons',\n  'Species',\n  'Products',\n  'Rough Sizes',\n  'Surfaced Sizes',\n  'Production',\n  'Panel Thickness',\n  'Services',\n  'Kiln Capacity',\n  'Shipping',\n  'Export',\n  'Grading Agency',\n  'Member Of',\n  'Employees',\n  'Notes',\n  'Certification',\n  'Preservatives',\n  'Treating Facilities',\n  'Distribution Yard',\n  'Mill Status'\n];\n\nexport default orderedSections;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport MillTableDataRow from './_MillTableDataRow';\nimport Time from'react-time';\n\nimport orderedSections from './millTableSectionOrder';\n\n// By dynamically populating mill table data, deliberate ordering\n// of sections is lost. This function steps through ordered section\n// names and reorders the mill table data accordingly.\nconst orderMillData = millData => {\n  const findMatch = section => {\n    for(let prop of millData) {\n      if(prop.sectionName === section) {\n        return prop;\n      }\n    }\n  };\n\n  return orderedSections.reduce((ordered, section) => ordered.concat(findMatch(section)), []);\n};\n\nconst mapTableData = props => {\n  // Converts key into sectionName\n  const processed = str => str.replace(/([A-Z])/, ' $1');\n  const titleized = str => str[0].toUpperCase() + str.slice(1);\n  const make = processed => titleized => titleized(processed);\n  const sectionName = str => make(processed(str))(titleized);\n\n  const { mill } = props;\n  const tableData = [];\n\n  // Filter these keys out; they're not relevant to the table\n  const irrelevant = ['__v', '_id', 'uuid', 'lastUpdated'];\n  const millKeys = Object.keys(mill).filter(key => !irrelevant.includes(key));\n\n  millKeys.forEach(key => {\n    // Evaluates whether or not key's value is another object\n    // to the end of populating the millKeys dyanimcally\n    // Note: this doesn't support any nesting deeper than two levels;\n    // you'd have to drop some recursion in to account for more\n    if(typeof mill[key] === 'object' && !Array.isArray(mill[key])) {\n      // If another obj, grab nested keys, associated content, and create new millKey\n      let newKeys = Object.keys(mill[key]);\n      newKeys.forEach(newKey => {\n        tableData.push({\n          sectionName: sectionName(newKey),\n          content: mill[key][newKey],\n          millKey: `${key}.${newKey}`\n        });\n      });\n    } else {\n      // If it isn't, just push normal, surface-level data\n      tableData.push({\n        sectionName: sectionName(key),\n        content: mill[key],\n        millKey: key\n      });\n    }\n  });\n  return orderMillData(tableData)\n}\n\nconst MillTable = props => {\n  const tableData = mapTableData(props);\n  return (\n    <table className=\"table table-bordered table-hover table-striped mill-table\">\n      <thead>\n        <tr>\n          <th width='30%'>Data</th>\n          <th></th>\n        </tr>\n      </thead>\n      <tbody>\n      {tableData.map((data, i) => (\n          <MillTableDataRow\n            key={i}\n            isAdmin={props.isAdmin}\n            sectionName={data.sectionName}\n            content={data.content}\n            millKey={data.millKey}\n            handleEdit={props.handleEdit}\n          />\n        ))}\n        { props.mill.lastUpdated &&\n          <tr>\n              <td>Last Updated</td>\n              <td>\n                <Time value={props.mill.lastUpdated} format=\"DD/MM/YYYY HH:mm\" relative />\n              </td>\n          </tr>\n        }\n      </tbody>\n    </table>\n  );\n};\n\nMillTable.propTypes = {\n  mill: PropTypes.object.isRequired\n};\n\nexport default MillTable;","import React, { Component } from 'react';\nimport {Link, Redirect} from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport api from '../../utils/api';\n//import millSchema from '../../utils/millSchema';\nimport MillTable from './_MillTable';\nimport headerBg from '../assets/blue-mill.jpg';\nimport LoadingBar from '../LoadingBar';\nimport AlertMessages from '../shared/AlertMessages';\n\nimport { UserContext } from '../users/UserContext'\n\nclass Mill extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      success: [],\n      errors: [],\n      mill: null,\n      millStatus: 'INIT'\n    }\n\n    this.handleEdit = this.handleEdit.bind(this);\n  }\n\n  componentDidMount() {\n    this.loadMill();\n  }\n\n  loadMill() {\n      console.log(this.props.match.url)\n    api.getMill(this.props.token, this.props.match.url).then(res => {\n      const newState = {\n        success: '',\n        errors: '',\n        mill: null,\n        millStatus: 'COMPLETE'\n      };\n\n      if(res.success) {\n        newState.success = res.success;\n      }\n      if(res.errors) {\n        newState.errors = res.errors;\n      }\n      if(res.mill) {\n        newState.mill = res.mill;\n      }\n\n      this.setState(() => newState);\n    })\n  }\n\n  updateMillState(options) {\n    let mill = this.state.mill;\n    let [[millKeys, val]] = Object.entries(options);\n    millKeys = millKeys.split('.');\n\n    if(millKeys.length === 1) {\n      const [ key ] = millKeys;\n      mill[key] = val;\n    } else {\n      let temp;\n      millKeys.forEach((key, i) => {\n        if(i === 0) {\n          temp = mill[key];\n        } else if(i > 0 && i < (millKeys.length - 1)) {\n          temp = temp[key];\n        } else {\n          mill = temp;\n          mill[key] = val;\n        }\n      });\n    }\n  }\n\n  handleEdit(options, sectionName) {\n    this.updateMillState(options)\n    return api.editMill(this.props.token, this.state.mill.uuid, options, sectionName)\n              .then(res => {\n                if(res.errors) {\n                  this.setState({\n                    errors: res.errors\n                  });\n                } else {\n                  this.setState({\n                    success: res.success\n                  });\n                }\n              });\n  }\n\n  render() {\n      if (!this.context.isAuthenticated) {\n          return (\n              <Redirect to={{ pathname: '/login', state: {\n                      from: { pathname: '/mills' },\n                      error: [\n                          '401 - Unauthorized',\n                          'Please log in to view the requested resource.'\n                      ]} }}/>\n          )\n      }\n    if(this.state.millStatus === 'COMPLETE') {\n      if(this.state.mill) {\n        return (\n          <div className=\"container\">\n            <div className=\"mill\">\n              <MillBanner\n                imgSrc={headerBg}\n                mill={this.state.mill} />\n\n              <AlertMessages\n                success={this.state.success}\n                errors={this.state.errors}\n                scroll={true} />\n\n              <MillTable\n                isAdmin={this.context.isAdmin}\n                mill={this.state.mill}\n                handleEdit={this.handleEdit}/>\n            </div>\n          </div>\n        );\n      } else {\n        return <MillNotFound />;\n      }\n    } else {\n      return <LoadingBar />;\n    }\n  }\n}\nMill.contextType = UserContext;\n\nMill.propTypes = {\n  token: PropTypes.string.isRequired\n};\n\nconst MillBanner = props => (\n    <div\n        className=\"jumbotron text-center section-banner\"\n        style={{backgroundImage: `url(${props.imgSrc})`}}>\n        <h1 className=\"heading-brand\">\n            {props.mill.name}\n        </h1>\n        <h2 className=\"heading-brand\">\n            {props.mill.type} - {props.mill.region}\n        </h2>\n    </div>\n)\n\nMillBanner.propTypes = {\n    mill: PropTypes.object.isRequired\n};\n\nconst MillNotFound = props => (\n    <div className=\"container\">\n        <AlertMessages\n            success={[]}\n            errors={[\n                '404 - Not Found',\n                'The mill record you requested has been moved or doesn\\'t exist anymore.']}\n        />\n        <Link\n            to=\"/mills\"\n            className=\"btn btn-lg btn-default center-block\">\n            <i className=\"fa fa-undo\" aria-hidden=\"true\"></i> View all mills\n        </Link>\n        <br />\n        <Link\n            to=\"/\"\n            className=\"btn btn-lg btn-default center-block\">\n            <i className=\"fa fa-home\" aria-hidden=\"true\"></i> Take me home\n        </Link>\n    </div>\n);\n\n\n\n\nexport default Mill","import React, { Component } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport PropTypes from 'prop-types';\n\nconst MillSchema = {\n  name: '',\n  type: '',\n  region: '',\n  address: '',\n  location: '',\n  phone: '',\n  fax: '',\n  website: '',\n  contactPersons: '',\n  products: '',\n  species: '',\n  roughSizes: '',\n  surfacedSizes: '',\n  production: '',\n  panelThickness: '',\n  services: '',\n  kilnCapacity: '',\n  shipping: '',\n  export: '',\n  gradingAgency: '',\n  memberOf: '',\n  employees: '',\n  notes: '',\n  certification: '',\n  preservatives: '',\n  treatingFacilities: '',\n  distributionYard: '',\n  millStatus: ''\n}\n\nclass NewMillForm extends Component {\n  constructor(props) {\n    super(props);\n    // using Object.assign() to create a shallow copy of MillSchema\n    this.state = Object.assign({}, MillSchema)\n\n    this.handleChange = this.handleChange.bind(this)\n    this.handleSubmit = this.handleSubmit.bind(this)\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n    const mill = this.state;\n    this.props.onSubmit(mill);\n    this.setState({ fireRedirect: true });\n  }\n\n  handleChange(event) {\n    const newState = {\n      [event.target.name]: event.target.value\n    }\n    this.setState( () => newState );\n  }\n\n  render() {\n    const { fireRedirect } = this.props\n    return (\n      <form className=\"form-horizontal\" onSubmit={this.handleSubmit}>\n        <div className=\"row\"> {/* START MAIN ROW */}\n          <div className=\"col-sm-6\"> {/* START LEFT COLUMN */}\n\n            <div className=\"row\"> {/* INTERNAL ROW */}\n              <div className=\"col-sm-12\">\n                <div className=\"panel panel-default\">\n                  <div className=\"panel-heading\">\n                    <h3 className=\"panel-title\">General</h3>\n                  </div>\n                  <div className=\"panel-body\">\n                    <div className=\"form-group\">\n                      <label htmlFor=\"name\" className=\"col-sm-3 control-label\">Name</label>\n                      <div className=\"col-sm-9\">\n                        <input\n                          type=\"text\"\n                          className=\"form-control\"\n                          name=\"name\"\n                          value={this.state.name}\n                          onChange={this.handleChange} />\n                      </div>\n                    </div>\n                    <div className=\"form-group\">\n                      <label htmlFor=\"type\" className=\"col-sm-3 control-label\">Type</label>\n                      <div className=\"col-sm-9\">\n                        <input\n                          type=\"text\"\n                          className=\"form-control\"\n                          name=\"type\"\n                          value={this.state.type}\n                          onChange={this.handleChange} />\n                      </div>\n                    </div>\n                    <div className=\"form-group\">\n                      <label htmlFor=\"region\" className=\"col-sm-3 control-label\">Region</label>\n                      <div className=\"col-sm-9\">\n                        <input\n                          type=\"text\"\n                          className=\"form-control\"\n                          name=\"region\"\n                          value={this.state.region}\n                          onChange={this.handleChange} />\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            <div className=\"row\"> {/* INTERNAL ROW */}\n              <div className=\"col-sm-12\">\n                <div className=\"panel panel-default\">\n                  <div className=\"panel-heading\">\n                    <h3 className=\"panel-title\">Contact</h3>\n                  </div>\n                  <div className=\"panel-body\">\n                    <div className=\"form-group\">\n                      <label htmlFor=\"address\" className=\"col-sm-3 control-label\">Address</label>\n                      <div className=\"col-sm-9\">\n                        <input\n                          type=\"text\"\n                          className=\"form-control\"\n                          name=\"address\"\n                          value={this.state.address}\n                          onChange={this.handleChange} />\n                      </div>\n                    </div>\n                    <div className=\"form-group\">\n                      <label htmlFor=\"location\" className=\"col-sm-3 control-label\">Location</label>\n                      <div className=\"col-sm-9\">\n                        <input\n                          type=\"text\"\n                          className=\"form-control\"\n                          name=\"location\"\n                          value={this.state.location}\n                          onChange={this.handleChange} />\n                      </div>\n                    </div>\n                    <div className=\"form-group\">\n                      <label htmlFor=\"phone\" className=\"col-sm-3 control-label\">Phone</label>\n                      <div className=\"col-sm-9\">\n                        <input\n                          type=\"text\"\n                          className=\"form-control\"\n                          name=\"phone\"\n                          value={this.state.phone}\n                          onChange={this.handleChange} />\n                      </div>\n                    </div>\n                    <div className=\"form-group\">\n                      <label htmlFor=\"fax\" className=\"col-sm-3 control-label\">Fax</label>\n                      <div className=\"col-sm-9\">\n                        <input\n                          type=\"text\"\n                          className=\"form-control\"\n                          name=\"fax\"\n                          value={this.state.fax}\n                          onChange={this.handleChange} />\n                      </div>\n                    </div>\n                    <div className=\"form-group\">\n                      <label htmlFor=\"website\" className=\"col-sm-3 control-label\">Website</label>\n                      <div className=\"col-sm-9\">\n                        <input\n                          type=\"text\"\n                          className=\"form-control\"\n                          name=\"website\"\n                          value={this.state.website}\n                          onChange={this.handleChange} />\n                      </div>\n                    </div>\n                    <div className=\"form-group\">\n                      <label htmlFor=\"contactPersons\" className=\"col-sm-3 control-label\">Contact Persons</label>\n                      <div className=\"col-sm-9\">\n                        <input\n                          type=\"text\"\n                          className=\"form-control\"\n                          name=\"contactPersons\"\n                          placeholder=\"Array field: item1, item2, item3\"\n                          value={this.state.contactPersons}\n                          onChange={this.handleChange} />\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n          </div> {/* END LEFT COLUMN */}\n\n          <div className=\"col-sm-6\"> {/* START RIGHT COLUMN */}\n\n            <div className=\"row\"> {/* INTERNAL ROW */}\n              <div className=\"col-sm-12\">\n                <div className=\"panel panel-default\">\n                  <div className=\"panel-heading\">\n                    <h3 className=\"panel-title\">Catalog</h3>\n                  </div>\n                  <div className=\"panel-body\">\n                    <div className=\"form-group\">\n                      <label htmlFor=\"products\" className=\"col-sm-3 control-label\">Products</label>\n                      <div className=\"col-sm-9\">\n                        <input\n                          type=\"text\"\n                          className=\"form-control\"\n                          name=\"products\"\n                          placeholder=\"Array field: item1, item2, item3\"\n                          value={this.state.products}\n                          onChange={this.handleChange} />\n                      </div>\n                    </div>\n                    <div className=\"form-group\">\n                      <label htmlFor=\"species\" className=\"col-sm-3 control-label\">Species</label>\n                      <div className=\"col-sm-9\">\n                        <input\n                          type=\"text\"\n                          className=\"form-control\"\n                          name=\"species\"\n                          placeholder=\"Array field: item1, item2, item3\"\n                          value={this.state.species}\n                          onChange={this.handleChange} />\n                      </div>\n                    </div>\n                    <div className=\"form-group\">\n                      <label htmlFor=\"roughSizes\" className=\"col-sm-3 control-label\">Rough Sizes</label>\n                      <div className=\"col-sm-9\">\n                        <input\n                          type=\"text\"\n                          className=\"form-control\"\n                          name=\"roughSizes\"\n                          placeholder=\"Array field: item1, item2, item3\"\n                          value={this.state.roughSizes}\n                          onChange={this.handleChange} />\n                      </div>\n                    </div>\n                    <div className=\"form-group\">\n                      <label htmlFor=\"surfacedSizes\" className=\"col-sm-3 control-label\">Surfaced Sizes</label>\n                      <div className=\"col-sm-9\">\n                        <input\n                          type=\"text\"\n                          className=\"form-control\"\n                          name=\"surfacedSizes\"\n                          value={this.state.surfacedSizes}\n                          onChange={this.handleChange} />\n                      </div>\n                    </div>\n                    <div className=\"form-group\">\n                      <label htmlFor=\"production\" className=\"col-sm-3 control-label\">Production</label>\n                      <div className=\"col-sm-9\">\n                        <input\n                          type=\"text\"\n                          className=\"form-control\"\n                          name=\"production\"\n                          value={this.state.production}\n                          onChange={this.handleChange} />\n                      </div>\n                    </div>\n                    <div className=\"form-group\">\n                      <label htmlFor=\"panelThickness\" className=\"col-sm-3 control-label\">Panel Thickness</label>\n                      <div className=\"col-sm-9\">\n                        <input\n                          type=\"text\"\n                          className=\"form-control\"\n                          name=\"panelThickness\"\n                          value={this.state.panelThickness}\n                          onChange={this.handleChange} />\n                      </div>\n                    </div>\n                    <div className=\"form-group\">\n                      <label htmlFor=\"services\" className=\"col-sm-3 control-label\">Services</label>\n                      <div className=\"col-sm-9\">\n                        <input\n                          type=\"text\"\n                          className=\"form-control\"\n                          name=\"services\"\n                          placeholder=\"Array field: item1, item2, item3\"\n                          value={this.state.services}\n                          onChange={this.handleChange} />\n                      </div>\n                    </div>\n                    <div className=\"form-group\">\n                      <label htmlFor=\"kilnCapacity\" className=\"col-sm-3 control-label\">Kiln Capacity</label>\n                      <div className=\"col-sm-9\">\n                        <input\n                          type=\"text\"\n                          className=\"form-control\"\n                          name=\"kilnCapacity\"\n                          value={this.state.kilnCapacity}\n                          onChange={this.handleChange} />\n                      </div>\n                    </div>\n                    <div className=\"form-group\">\n                      <label htmlFor=\"shipping\" className=\"col-sm-3 control-label\">Shipping</label>\n                      <div className=\"col-sm-9\">\n                        <input\n                          type=\"text\"\n                          className=\"form-control\"\n                          name=\"shipping\"\n                          placeholder=\"Array field: item1, item2, item3\"\n                          value={this.state.shipping}\n                          onChange={this.handleChange} />\n                      </div>\n                    </div>\n                    <div className=\"form-group\">\n                      <label htmlFor=\"export\" className=\"col-sm-3 control-label\">Export</label>\n                      <div className=\"col-sm-9\">\n                        <input\n                          type=\"text\"\n                          className=\"form-control\"\n                          name=\"export\"\n                          placeholder=\"Array field: item1, item2, item3\"\n                          value={this.state.export}\n                          onChange={this.handleChange} />\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            <div className=\"row\"> {/* INTERNAL ROW */}\n              <div className=\"col-sm-12\">\n                <div className=\"panel panel-default\">\n                  <div className=\"panel-heading\">\n                    <h3 className=\"panel-title\">Qualifications</h3>\n                  </div>\n                  <div className=\"panel-body\">\n                    <div className=\"form-group\">\n                      <label htmlFor=\"gradingAgency\" className=\"col-sm-3 control-label\">Grading Agency</label>\n                      <div className=\"col-sm-9\">\n                        <input\n                          type=\"text\"\n                          className=\"form-control\"\n                          name=\"gradingAgency\"\n                          value={this.state.gradingAgency}\n                          onChange={this.handleChange} />\n                      </div>\n                    </div>\n                    <div className=\"form-group\">\n                      <label htmlFor=\"memberOf\" className=\"col-sm-3 control-label\">Member Of</label>\n                      <div className=\"col-sm-9\">\n                        <input\n                          type=\"text\"\n                          className=\"form-control\"\n                          name=\"memberOf\"\n                          placeholder=\"Array field: item1, item2, item3\"\n                          value={this.state.memberOf}\n                          onChange={this.handleChange} />\n                      </div>\n                    </div>\n                    <div className=\"form-group\">\n                      <label htmlFor=\"employees\" className=\"col-sm-3 control-label\">Employees</label>\n                      <div className=\"col-sm-9\">\n                        <input\n                          type=\"text\"\n                          className=\"form-control\"\n                          name=\"employees\"\n                          placeholder=\"Must be a number\"\n                          value={this.state.employees}\n                          onChange={this.handleChange} />\n                      </div>\n                    </div>\n                    <div className=\"form-group\">\n                      <label htmlFor=\"notes\" className=\"col-sm-3 control-label\">Notes</label>\n                      <div className=\"col-sm-9\">\n                        <input\n                          type=\"text\"\n                          className=\"form-control\"\n                          name=\"notes\"\n                          value={this.state.notes}\n                          onChange={this.handleChange} />\n                      </div>\n                    </div>\n                    <div className=\"form-group\">\n                      <label htmlFor=\"certification\" className=\"col-sm-3 control-label\">Certification</label>\n                      <div className=\"col-sm-9\">\n                        <input\n                          type=\"text\"\n                          className=\"form-control\"\n                          name=\"certification\"\n                          value={this.state.certification}\n                          onChange={this.handleChange} />\n                      </div>\n                    </div>\n                    <div className=\"form-group\">\n                      <label htmlFor=\"preservatives\" className=\"col-sm-3 control-label\">Preservatives</label>\n                      <div className=\"col-sm-9\">\n                        <input\n                          type=\"text\"\n                          className=\"form-control\"\n                          name=\"preservatives\"\n                          value={this.state.preservatives}\n                          onChange={this.handleChange} />\n                      </div>\n                    </div>\n                    <div className=\"form-group\">\n                      <label htmlFor=\"treatingFacilities\" className=\"col-sm-3 control-label\">Treating Facilities</label>\n                      <div className=\"col-sm-9\">\n                        <input\n                          type=\"text\"\n                          className=\"form-control\"\n                          name=\"treatingFacilities\"\n                          value={this.state.treatingFacilities}\n                          onChange={this.handleChange} />\n                      </div>\n                    </div>\n                    <div className=\"form-group\">\n                      <label htmlFor=\"distributionYard\" className=\"col-sm-3 control-label\">Distribution Yard</label>\n                      <div className=\"col-sm-9\">\n                        <input\n                          type=\"text\"\n                          className=\"form-control\"\n                          name=\"distributionYard\"\n                          value={this.state.distributionYard}\n                          onChange={this.handleChange} />\n                      </div>\n                    </div>\n                    <div className=\"form-group\">\n                      <label htmlFor=\"millStatus\" className=\"col-sm-3 control-label\">Mill Status</label>\n                      <div className=\"col-sm-9\">\n                        <input\n                          type=\"text\"\n                          className=\"form-control\"\n                          name=\"millStatus\"\n                          value={this.state.millStatus}\n                          onChange={this.handleChange} />\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div> {/* END RIGHT COLUMN */}\n        </div> {/* END MAIN ROW */}\n\n        <div className=\"form-group\">\n          <div className=\"col-sm-offset-2 col-sm-10\">\n            <button type=\"submit\" className=\"btn btn-success btn-lg center-block\">Create Mill</button>\n            { fireRedirect && (\n              <Redirect to={'/mills'}/>\n            ) }\n          </div>\n        </div>\n      </form>\n    );\n  }\n};\n\nNewMillForm.propTypes = {\n  onSubmit: PropTypes.func.isRequired\n}\n\nexport default NewMillForm;","import React, { Component } from 'react';\nimport api from '../../utils/api';\nimport NewMillForm from './_NewMillForm';\nimport Jumbotron from '../shared/Jumbotron';\nimport headerBg from '../assets/kiln-dried-lumber.jpg';\nimport AlertMessages from '../shared/AlertMessages';\n\nimport { UserContext } from '../users/UserContext'\nimport {Redirect} from \"react-router-dom\";\n\n\nclass CreateMill extends Component {\n  state = {\n      success: [],\n      errors: [],\n      fireRedirect: false\n  };\n\n  onSubmit = (mill) => {\n    api.createMill(this.context.token, mill)\n      .then(res=> {\n        if (res.errors) {\n          return this.setState(() => ({\n            errors: res.errors\n          }));\n        }\n        this.setState(() => ({\n          errors: [],\n          fireRedirect: true\n        }));\n      });\n  }\n\n  render() {\n      if (!this.context.isAuthenticated) {\n          return (\n              <Redirect to={{ pathname: '/login', state: {\n                      from: { pathname: '/mills/new' },\n                      error: [\n                          '401 - Unauthorized',\n                          'Please log in to view the requested resource.'\n                      ]} }}/>\n          )\n      }\n    return(\n      <div className='container'>\n\n        <Jumbotron\n          heading=\"Create a New Mill\"\n          imgSrc={headerBg}/>\n\n        { this.state.errors &&\n          <AlertMessages\n          success={[]}\n          errors={this.state.errors}\n          />}\n\n        <NewMillForm\n          onSubmit={this.onSubmit}\n          fireRedirect={this.state.fireRedirect}/>\n      </div>\n    )\n  }\n}\n\nCreateMill.contextType = UserContext;\n\nexport default CreateMill;","import React, { Component } from 'react';\n//import Dropzone from 'dropzone'\nimport { UserContext } from '../users/UserContext'\nimport {Redirect} from \"react-router-dom\";\n\nclass BulkImport extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      csv: ''\n    }\n    this.handleChange = this.handleChange.bind(this)\n  }\n\n  handleSumbit(event) {\n    event.preventDefault()\n  }\n\n  handleChange(event) {\n    const data = new FormData();\n\n    data.append('file', event.target.files[0]);\n    data.append('name', event.target.files[0].name);\n    data.append('description', 'some value user types');\n\n    const newState = {\n      [event.target.name]: event.target.value\n    }\n    this.setState( () => newState );\n  }\n\n  render() {\n    if (!this.context.isAuthenticated) {\n      return (\n          <Redirect to={{ pathname: '/login', state: {\n              from: { pathname: '/mills/import' },\n              error: [\n                '401 - Unauthorized',\n                'Please log in to view the requested resource.'\n              ]} }}/>\n      )\n    }\n    return (\n      <div className='container'>\n        <form\n          className='dropzone'\n          encType=\"multipart/form-data\"\n          onSubmit={this.handleSumbit.bind(this)}>\n          <label htmlFor=\"csv\">Choose a .csv file to upload</label>\n          <input\n            className=\"\"\n            type='file'\n            name=\"csv\"\n            accept=\".csv\"\n            value={this.state.csv}\n            onChange={this.handleChange} />\n\n          <div className=\"form-group\">\n            <button\n              type=\"submit\"\n              className=\"btn btn-success btn-lg\">\n                <i className=\"fa fa-upload\" aria-hidden=\"true\"></i> Upload\n            </button>\n\n        </div>\n        </form>\n      </div>\n    )\n  }\n}\nBulkImport.contextType = UserContext;\nexport default BulkImport","import React from 'react';\nimport { Route, Switch, Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\n\n// Static components\nimport Home from './Home';\nimport Login from './Login';\nimport Register from './Register';\n\n// User components\nimport Users from './users/Users';\nimport CreateUser from './users/CreateUser';\nimport ManageUser from './users/ManageUser';\n\n// Mill components\nimport Mills from './mills/Mills';\nimport Mill from './mills/Mill';\nimport CreateMill from './mills/CreateMill';\nimport BulkImport from './mills/BulkImport';\n\nimport AlertMessages from './shared/AlertMessages';\n\nconst AppRoutes: React.FunctionComponent = () => (\n  <Switch>\n    <Route exact path='/' render={routerProps => <Home {...routerProps} /> }/>\n    <Route exact path='/login' render={routerProps => <Login {...routerProps} /> }/>\n    <Route exact path='/register' render={routerProps => <Register {...routerProps} /> }/>\n    <Route exact path='/mills' render={routerProps => <Mills {...routerProps} /> }/>\n    <Route exact path='/mills/new' render={routerProps => <CreateMill {...routerProps} /> }/>\n    <Route exact path='/mills/import' render={routerProps => <BulkImport {...routerProps} /> }/>\n    <Route exact path='/mills/:mill' render={routerProps => <Mill {...routerProps} /> }/>\n    <Route exact path='/users' render={routerProps => <Users {...routerProps} /> }/>\n    <Route exact path='/users/new' render={routerProps => <CreateUser {...routerProps} /> }/>\n    <Route exact path='/users/:uuid' render={routerProps => <ManageUser {...routerProps} /> }/>\n    <Route render={() => <NotFound />} />\n  </Switch>\n);\n\nconst NotFound = () => (\n    <div className=\"container\">\n        <AlertMessages\n            success={[]}\n            error={[\n                '404 - Not Found',\n                'The page you are looking for has been moved or doesn\\'t exist anymore.']}\n        />\n        <Link to=\"/\" className=\"btn btn-lg btn-default center-block\">\n            <i className=\"fa fa-undo\" aria-hidden=\"true\"></i> Take me home\n        </Link>\n    </div>\n);\n\nexport default AppRoutes;\n","import React from 'react';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport Cookies from 'universal-cookie';\n\nimport api from './utils/api';\nimport './components/assets/App.css';\n\nimport SiteHeader from './components/shared/SiteHeader';\nimport Footer from './components/shared/Footer';\nimport LoadingBar from './components/LoadingBar';\nimport AppRoutes from './components/AppRoutes';\n\nimport './components/assets/App.css';\nimport UserStore from './components/users/UserContext';\nimport { UserContext } from './components/users/UserContext'\n\ninterface State {\n  authWithTokenStatus: string;\n  isAuthenticated: boolean;\n  isAdmin: boolean;\n  token?: string;\n  userName: string;\n  successAuth: any[];\n};\n\nclass App extends React.Component {\n  // TODO: constrain ts type any to more narrow\n  state = {\n      authWithTokenStatus: 'INIT',\n    };\n\n  componentDidMount() {\n    const cookies = new Cookies();\n    // cookies.set('session_id', null, { path: '/', maxAge: 86400 });\n\n    const localToken = cookies.get('session_id') || null;\n    if (localToken) {\n      this.authWithToken(localToken);\n    } else {\n      this.setState({ authWithTokenStatus: 'COMPLETE' });\n    }\n  }\n  //\n  authWithToken = (token: string) => {\n    this.setState({ authWithTokenStatus: 'LOADING' });\n    return api.validateToken(token).then((res) => {\n      this.context.authUser(res.token, res.user, res.isAdmin);\n      this.forceUpdate();\n    }).catch(() => this.setState({ authWithTokenStatus: 'COMPLETE' }));\n  }\n\n  render() {\n    return (\n      <Router>\n        <UserStore>\n          <div className=\"App\">\n            <SiteHeader\n            />\n            {this.state.authWithTokenStatus === 'COMPLETE' ? (\n                <main id=\"site-main\">\n                  <AppRoutes />\n                </main>\n            ) : (\n                <div className=\"loading-bar\">\n                  <LoadingBar />\n                </div>\n            )}\n            <Footer />\n          </div>\n        </UserStore>\n      </Router>\n    );\n  }\n}\nApp.contextType = UserContext;\n\nexport default App;\n\n\n\n\n\n// function App() {\n//   return (\n//     <div className=\"App\">\n//       <header className=\"App-header\">\n//         <img src={logo} className=\"App-logo\" alt=\"logo\" />\n//         <p>\n//           Edit <code>src/App.tsx</code> and save to reload.\n//         </p>\n//         <a\n//           className=\"App-link\"\n//           href=\"https://reactjs.org\"\n//           target=\"_blank\"\n//           rel=\"noopener noreferrer\"\n//         >\n//           Learn React\n//         </a>\n//       </header>\n//     </div>\n//   );\n// }\n\n// export default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App'; // change one level up!! >> './components/App';\nimport * as serviceWorker from './serviceWorker';\n\n// TODO: learn what StrictMode does.\nReactDOM.render(\n  <React.StrictMode> \n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n\nserviceWorker.register();\n","module.exports = __webpack_public_path__ + \"static/media/moodyville-yard.f2a4b5f6.jpg\";","module.exports = __webpack_public_path__ + \"static/media/header-img.82efaf1e.jpg\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOcAAADICAMAAAAk0AbxAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA3hpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDowZWEzMmE4MC0yNTk1LTRlYzAtOWJjNC1lNTg4YjU2YWIyYmUiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QzQ5RDI0N0E1MjlGMTFFN0I1MzZGMzU1NkY0OEQ3RTUiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QzQ5RDI0Nzk1MjlGMTFFN0I1MzZGMzU1NkY0OEQ3RTUiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKE1hY2ludG9zaCkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDowZWEzMmE4MC0yNTk1LTRlYzAtOWJjNC1lNTg4YjU2YWIyYmUiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MGVhMzJhODAtMjU5NS00ZWMwLTliYzQtZTU4OGI1NmFiMmJl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\"","module.exports = __webpack_public_path__ + \"static/media/madison-logo.1368a047.png\";","module.exports = __webpack_public_path__ + \"static/media/mills-header.09c6b3b0.jpg\";","module.exports = __webpack_public_path__ + \"static/media/blue-mill.a5730234.jpg\";","module.exports = __webpack_public_path__ + \"static/media/kiln-dried-lumber.43d80994.jpg\";"],"sourceRoot":""}