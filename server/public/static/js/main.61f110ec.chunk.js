(this.webpackJsonpMadisons=this.webpackJsonpMadisons||[]).push([[0],{15:function(e,a,t){e.exports=t.p+"static/media/moodyville-yard.f2a4b5f6.jpg"},33:function(e,a){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOcAAADICAMAAAAk0AbxAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA3hpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDowZWEzMmE4MC0yNTk1LTRlYzAtOWJjNC1lNTg4YjU2YWIyYmUiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QzQ5RDI0N0E1MjlGMTFFN0I1MzZGMzU1NkY0OEQ3RTUiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QzQ5RDI0Nzk1MjlGMTFFN0I1MzZGMzU1NkY0OEQ3RTUiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKE1hY2ludG9zaCkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDowZWEzMmE4MC0yNTk1LTRlYzAtOWJjNC1lNTg4YjU2YWIyYmUiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MGVhMzJhODAtMjU5NS00ZWMwLTliYzQtZTU4OGI1NmFiMmJl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"},37:function(e,a,t){e.exports=t.p+"static/media/header-img.82efaf1e.jpg"},38:function(e,a,t){e.exports=t.p+"static/media/mills-header.09c6b3b0.jpg"},41:function(e,a,t){e.exports=t.p+"static/media/kiln-dried-lumber.43d80994.jpg"},42:function(e,a,t){e.exports=t(79)},59:function(e,a,t){},79:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(31),c=t.n(r),i=t(5),s=t(14),o=t(2),m=t(10),u=t(3),d=l.a.createContext();function E(e){var a=Object(n.useState)(void 0),t=Object(o.a)(a,2),r=t[0],c=t[1],i=Object(n.useState)(""),E=Object(o.a)(i,2),p=E[0],b=E[1],g=Object(n.useState)(null),v=Object(o.a)(g,2),h=v[0],f=v[1],N=Object(n.useState)(null),O=Object(o.a)(N,2),y=O[0],k=O[1],j=Object(u.f)(),A=function(e,a){console.log("LOGIN METHOD",e);var t=e.token,n=e.firstName,l=e.accountType,r=e.isAdmin;(new m.a).set("jwt",t,{path:"/",maxAge:86400}),c(t),b(n),f(l),k(r),a&&j.push(a)},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/",a=new m.a;a.remove("jwt",{path:"/"}),c(null),b(""),f(null),k(null),j.push(e)};return l.a.createElement(d.Provider,{value:{token:r,firstName:p,accountType:h,isAdmin:y,login:A,logout:w,validateToken:function(e){console.log("START VALIDATE TOKEN");var a={query:'query {\n        validate(token: "'.concat(e,'") {\n          firstName\n          accountType\n          isAdmin\n        }\n      }')};fetch(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_GRAPHQL_ENDPOINT,{method:"POST",body:JSON.stringify(a),headers:{"Content-Type":"application/json"}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Fetch Failed!");return e.json()})).then((function(a){if(a.data.validate.firstName){var t=Object(s.a)(Object(s.a)({},a.data.validate),{},{token:e});A(t)}else w()})).catch((function(e){w(),console.log(e)}))}}},e.children)}var p=t(20),b=Object(p.createInstance)({urlBase:"https://matomo.madisonsreport.com/",siteId:1});var g=function(e){return l.a.createElement(p.MatomoProvider,{value:b},e.children)},v=(t(59),t(60),t(33)),h=t.n(v);var f=function(){var e=Object(n.useState)(!1),a=Object(o.a)(e,2),t=a[0],r=a[1],c=Object(n.useContext)(d),s=c.token,m=c.logout,u=c.firstName;return Object(n.useEffect)((function(){void 0!==s&&r(!0)}),[s]),l.a.createElement("nav",{className:"navbar is-primary",role:"navigation","aria-label":"main navigation"},l.a.createElement("div",{className:"navbar-brand"},l.a.createElement(i.b,{className:"navbar-item",to:"/"},l.a.createElement("img",{src:h.a,width:"32",height:"32",alt:"Logo: Madison's Lumber Reporter"})),l.a.createElement("a",{href:"#blank",role:"button",className:"navbar-burger burger","aria-label":"menu","aria-expanded":"false","data-target":"navbarBasicExample"},l.a.createElement("span",{"aria-hidden":"true"}),l.a.createElement("span",{"aria-hidden":"true"}),l.a.createElement("span",{"aria-hidden":"true"}))),l.a.createElement("div",{id:"navbarBasicExample",className:"navbar-menu"},l.a.createElement("div",{className:"navbar-start"},l.a.createElement(i.c,{className:"navbar-item",to:"/"},"Home"),l.a.createElement(i.c,{className:"navbar-item",to:"/mills"},"Mills"),l.a.createElement("div",{className:"navbar-item has-dropdown is-hoverable"},l.a.createElement("a",{className:"navbar-link",href:"#blank"}," Admin"),l.a.createElement("div",{className:"navbar-dropdown"},l.a.createElement(i.c,{className:"navbar-item",to:"/users"},"Manage Users"),l.a.createElement("a",{className:"navbar-item",href:"#blank"},"Jobs"),l.a.createElement("a",{className:"navbar-item",href:"#blank"},"Contact"),l.a.createElement("hr",{className:"navbar-divider"}),l.a.createElement("a",{className:"navbar-item",href:"#blank"},"Report an issue")))),t&&l.a.createElement("div",{className:"navbar-end"},l.a.createElement("div",{className:"navbar-item"},l.a.createElement("div",{className:"buttons"},s?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"button is-primary"},"Hello, ",u),l.a.createElement("button",{onClick:m,className:"button is-light"},"Logout")):l.a.createElement(l.a.Fragment,null,l.a.createElement("a",{className:"button is-primary",href:"#blank"},l.a.createElement("strong",null,"Sign up")),l.a.createElement(i.b,{to:"/login",className:"button is-light"},"Log in")))))))};function N(){return l.a.createElement("div",{className:"columns is-mobile is-3 columns__social_links"},[{url:"https://twitter.com/LumberNews",icon:"ri-twitter-fill"},{url:"https://www.instagram.com/lumbernews/",icon:"ri-instagram-line"},{url:"https://www.facebook.com/MadisonsLumberReporter",icon:"ri-facebook-box-fill"}].map((function(e){return l.a.createElement("div",{className:"column",key:e.icon},l.a.createElement("a",{href:e.url},l.a.createElement("span",{className:"icon is-medium"},l.a.createElement("i",{className:"ri-xl ".concat(e.icon)}))))})))}var O=function(){var e=(new Date).getFullYear();return l.a.createElement("footer",{className:"footer footer__wrapper"},l.a.createElement("div",{className:"content has-text-centered"},l.a.createElement("p",null,"\xa9 2017-",e," ",l.a.createElement("strong",null,l.a.createElement("a",{href:"https://madisonsreport.com/"},"Madison's Lumber Reporter"))),l.a.createElement(N,null)))},y=t(34);var k=function(){var e=Object(n.useState)(!1),a=Object(o.a)(e,2),t=a[0],r=a[1],c=Object(n.useState)(!1),i=Object(o.a)(c,2),s=i[0],u=i[1];function d(e){var a=e.target.ariaLabel,t=new m.a;"Accept"!==a&&"Reject"!==a||t.set("cookie-policy",a,{path:"/",maxAge:3154e4}),r(!1)}return Object(n.useEffect)((function(){var e=(new m.a).get("cookie-policy");e?u(e):setTimeout((function(){return r(!0)}),2e3)}),[]),console.log("cookie policy",s),l.a.createElement(l.a.Fragment,null,t&&l.a.createElement(l.a.Fragment,null,l.a.createElement(y.a,{htmlAttributes:{class:"is-clipped"}}),l.a.createElement("div",{class:"modal is-active"},l.a.createElement("div",{class:"modal-background"}),l.a.createElement("div",{class:"modal-content"},l.a.createElement("div",{class:"box"},l.a.createElement("article",{class:"media"},l.a.createElement("div",{class:"media-left"},l.a.createElement("figure",{class:"image is-64x64"},l.a.createElement("span",{class:"icon is-large"},l.a.createElement("i",{class:"fas fa-3x fa-cookie-bite"})))),l.a.createElement("div",{class:"media-content"},l.a.createElement("div",{class:"content"},l.a.createElement("p",null,l.a.createElement("h3",null,"We use cookies responsibly"),l.a.createElement("em",null,"We respect your privacy.")," We use cookies or similar technologies as specified in our cookie policy."),l.a.createElement("ul",null,l.a.createElement("li",null,"We use"," ",l.a.createElement("a",{href:"https://matomo.org/privacy/"},"open source software"),", not Google"),l.a.createElement("li",null,"We respect your browser's DoNotTrack setting"),l.a.createElement("li",null,"We anonymize visitor IP Addresses"),l.a.createElement("li",null,"We do not sell or share any data to any third-parties")),l.a.createElement("div",{className:"columns"},l.a.createElement("div",{className:"column is-7"},l.a.createElement("button",{className:"button"},"Learn more and customize")),l.a.createElement("div",{className:"column is-2"},l.a.createElement("button",{className:"button is-primary","aria-label":"Reject",onClick:d},"Reject")),l.a.createElement("div",{className:"column is-2"},l.a.createElement("button",{className:"button is-primary","aria-label":"Accept",onClick:d},"Accept")))))))))))},j=t(37),A=t.n(j);var w=function(e){var a=e.medium?"is-medium ":"";return l.a.createElement("section",{className:"hero ".concat(a,"is-primary is-bold has-background page-header")},l.a.createElement("img",{className:"hero-background is-transparent",src:e.heroImg,alt:"hero-background"}),l.a.createElement("div",{className:"hero-body"},l.a.createElement("div",{className:"container"},l.a.createElement("h1",{className:"title"},e.title),e.subtitle&&l.a.createElement("h2",{className:"subtitle"},e.subtitle))))};var M=function(){return l.a.createElement("div",null,l.a.createElement(w,{title:"Madison's Lumber Directory",subtitle:"The most comprehensive listing of Canadian solid wood and pulp manufacturers",heroImg:A.a,medium:!0}),l.a.createElement("div",{className:"container container__landing"},l.a.createElement("h4",{className:"title is-4"},"About our lumber database"),l.a.createElement("p",null,"Madison's Lumber Directory has been published for over 60 years. Company information includes contacts, tree \n  species, rough and finished lumber sizes, lumber production volumes, countries of lumber export, and much, much more.\n  A sample viewing of Madison's Online Directory is available HERE, the full database contains more than 1,799 individual \n  solid wood and pulp producer entries. Further details and a link to our Madison's Directory order form is HERE.")))};var I=function(e){return l.a.createElement("article",{class:"message is-danger"},l.a.createElement("div",{class:"message-header"},l.a.createElement("p",null,e.title),l.a.createElement("button",{class:"delete","aria-label":"delete",onClick:function(){return e.setMessage("")}})),l.a.createElement("div",{class:"message-body"},e.children))},F=t(15),C=t.n(F);var T=function(e){var a=Object(n.useState)(""),t=Object(o.a)(a,2),r=t[0],c=t[1],i=Object(n.useState)(!1),m=Object(o.a)(i,2),u=m[0],E=m[1],p=Object(n.useState)(""),b=Object(o.a)(p,2),g=b[0],v=b[1],h=Object(n.useState)(!1),f=Object(o.a)(h,2),N=f[0],O=f[1],y=Object(n.useState)(!1),k=Object(o.a)(y,2),j=k[0],A=k[1],w=Object(n.useContext)(d).login;function M(e){var a=e.target,t=a.type,n=a.value;"email"===t?(E(!1),c(n)):"password"===t&&(O(!1),v(n))}return l.a.createElement("div",{className:"container container__login-form"},l.a.createElement("form",{onSubmit:function(a){a.preventDefault(),e.setErrorMessage(""),""===r&&E(!0),""===g&&O(!0);var t={query:'\n            query {\n                login(email: "'.concat(r,'", password: "').concat(g,'") {\n                  token\n                  firstName\n                  isAdmin\n                  accountType \n                }\n            }\n        ')};""!==r&&""!==g&&(A(!0),fetch("http://localhost:8181/graphql",{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Fetch Failed!");return e.json()})).then((function(e){if(e.data.login.token){var a=Object(s.a)({},e.data.login);A(!1),w(a,"/mills")}})).catch((function(a){if(setTimeout((function(){return A(!1)}),800),"Fetch Failed!"===a.message){setTimeout((function(){return e.setErrorMessage("Provided email and password do not match.")}),1100)}else e.setErrorMessage("We encountered an unexpected error while handling your request. Please try again later."),console.log("Fetch Login",a)})))}},l.a.createElement("div",{className:"field"},l.a.createElement("p",{className:"control has-icons-left has-icons-right"},l.a.createElement("input",{value:r,onChange:M,type:"email",className:u?"input is-danger":"input",placeholder:"Email"}),l.a.createElement("span",{className:"icon is-small is-left"},l.a.createElement("i",{className:"ri-mail-fill"})),u&&l.a.createElement("span",{class:"icon is-small is-right"},l.a.createElement("i",{class:"ri-error-warning-fill"}))),u&&l.a.createElement("p",{class:"help is-danger"},"Email may not be blank")),l.a.createElement("div",{className:"field"},l.a.createElement("div",{className:"control has-icons-left".concat(N?" has-icons-right":"")},l.a.createElement("input",{value:g,onChange:M,className:N?"input is-danger":"input",type:"password",placeholder:"Password"}),l.a.createElement("span",{className:"icon is-small is-left"},l.a.createElement("i",{className:"ri-lock-fill"})),N&&l.a.createElement("span",{class:"icon is-small is-right"},l.a.createElement("i",{class:"ri-error-warning-fill"}))),N&&l.a.createElement("p",{class:"help is-danger"},"Password may not be blank")),l.a.createElement("div",{className:"field"},l.a.createElement("p",{className:"control"},l.a.createElement("button",{className:"button is-success button__login"},j?l.a.createElement("span",{className:"icon is-small is-left"},l.a.createElement("i",{className:"ri-refresh-line ri-icon-spin"})):l.a.createElement(l.a.Fragment,null,"Login"))))))};var R=function(){var e=Object(n.useState)(""),a=Object(o.a)(e,2),t=a[0],r=a[1];return l.a.createElement("div",null,l.a.createElement(w,{title:"Login",heroImg:C.a}),l.a.createElement("div",{className:"container"},t&&l.a.createElement(I,{title:"Oops... something went wrong!",setMessage:r},t),l.a.createElement(T,{setErrorMessage:r})))},W=t(38),L=t.n(W),S=t(39),z=t.n(S),U=t(40),x=t.n(U).a.create({baseURL:"https://db.madisonsreport.com/graphql",withCredentials:!0,headers:{"Content-Type":"application/json"}}),G=function(e,a){return a&&(x.defaults.headers.common.Authorization="Bearer ".concat(a)),console.log("AXIOS"),x.post("",e)};var Y=function(e){var a=function(e,a){for(var t=[],n=0;n<e.length;n+=a)t.push(e.slice(n,n+a));return t}(e.mills,e.columns).map((function(e){return l.a.createElement("div",{className:"tile is-ancestor",key:(a=e,a.map((function(e){return e.uuid})).reduce((function(e,a){return e+a})))},l.a.createElement("div",{className:"tile is-parent"},e.map((function(e){return l.a.createElement("div",{className:"tile is-3 is-child tile__mill",key:e.uuid},l.a.createElement(i.b,{to:"/mill/".concat(e.uuid)},l.a.createElement("div",{className:"card card__mill"},l.a.createElement("div",{className:"card-image"},l.a.createElement("figure",{className:"image is-4by2"},l.a.createElement("img",{src:"https://placehold.co/1200x600",alt:"Placeholder image"}))),l.a.createElement("div",{className:"card-content"},l.a.createElement("div",{className:"media"},l.a.createElement("div",{className:"media-content"},l.a.createElement("p",{className:"title is-6"},e.type),l.a.createElement("p",{className:"subtitle is-6"},e.name))),l.a.createElement("div",{className:"content"},l.a.createElement("a",null,e.region))))))}))));var a}));return l.a.createElement("div",{className:"container container__mill_cards"},a)};var J=function(e){var a=1===e.currentPage;return l.a.createElement("div",{className:"container container__pagination"},l.a.createElement("nav",{className:"pagination is-rounded",role:"navigation","aria-label":"pagination"},l.a.createElement("a",{className:"pagination-previous",title:"This is the first page",disabled:a},"Previous"),l.a.createElement("a",{className:"pagination-next"},"Next page"),l.a.createElement("ul",{className:"pagination-list"},l.a.createElement("li",null,l.a.createElement("a",{className:"pagination-link is-current","aria-label":"Page 1","aria-current":"page"},"1")),l.a.createElement("li",null,l.a.createElement("a",{className:"pagination-link","aria-label":"Goto page 2"},"2")),l.a.createElement("li",null,l.a.createElement("a",{className:"pagination-link","aria-label":"Goto page 3"},"3")),l.a.createElement("li",null,l.a.createElement("span",{className:"pagination-ellipsis"},"\u2026")),l.a.createElement("li",null,l.a.createElement("a",{className:"pagination-link","aria-label":"Goto page ".concat(e.pageCount)},e.pageCount)))))};var P=function(){var e=Object(n.useContext)(d),a=e.token,t=e.logout,r=Object(n.useState)([]),c=Object(o.a)(r,2),i=c[0],s=c[1],m=Object(n.useState)([]),E=Object(o.a)(m,2),p=E[0],b=E[1],g=Object(u.f)();return Object(n.useEffect)((function(){var e=g.location.search,n=z.a.parse(e);a&&function(e,a){var n=a.q,l={query:'query {\n        mills(resultFilters: { query:"'.concat(n||"",'"}) {\n          uuid\n          name\n          type\n          region\n          qualifications {\n            millStatus\n          }\n          lastUpdated\n        }\n      }')};G(l,e).then((function(e){e.data.data.mills?s(e.data.data.mills):console.log("ERROR gql mills")})).catch((function(e){"Unauthenticated"===e.response.data.errors[0].message&&(console.log("Redirect"),t(),g.push("/login",{token:"Expired"}))}))}(a,n)}),[a]),l.a.createElement("div",null,l.a.createElement(w,{title:"Mills",heroImg:L.a}),l.a.createElement("div",{className:"container container__mill_search"},l.a.createElement("form",null,l.a.createElement("div",{className:"field"},l.a.createElement("p",{className:"control has-icons-left has-icons-right"},l.a.createElement("input",{value:p,name:"search",type:"text",placeholder:"search",onChange:function(e){var a=e.target,t=a.name,n=a.value;"search"===t&&(b(n),g.push("/mills?q=".concat(n)))},className:"input"}),l.a.createElement("span",{className:"icon is-small is-left"},l.a.createElement("i",{className:"fas fa-search"})))))),l.a.createElement("div",{className:"container containter__result_count"},l.a.createElement("div",null,l.a.createElement("strong",null,i.length," mills"))),i.length>0&&l.a.createElement(l.a.Fragment,null,l.a.createElement(Y,{mills:i,columns:4}),l.a.createElement(J,{currentPage:1,pageCount:132})))},Z=t(41),D=t.n(Z);var V=function(){var e=Object(u.h)().mill_uuid,a=Object(u.f)(),t=Object(n.useState)({}),r=Object(o.a)(t,2),c=r[0],i=r[1],s=Object(n.useContext)(d),m=s.token,E=s.logout;return Object(n.useEffect)((function(){m&&function(e,t){var n={query:'query {\n        mills(resultFilters: { uuid:"'.concat(e,'"}) {\n          uuid\n          name\n          type\n          region\n          qualifications {\n            millStatus\n          }\n          lastUpdated\n        }\n      }')};G(n,t).then((function(e){e.data.data.mills?i(e.data.data.mills[0]):console.log("ERROR gql mills")})).catch((function(e){"Unauthenticated"===e.response.data.errors[0].message&&(console.log("Redirect"),E(),a.push("/login",{token:"Expired"}))}))}(e,m)}),[]),l.a.createElement(l.a.Fragment,null,l.a.createElement(w,{title:c.name,heroImg:D.a}),JSON.stringify(c))};var H=function(e){var a=Object.keys(e.items[0]).map((function(e){return l.a.createElement("th",{key:e},e)})),t=e.items.map((function(a){return l.a.createElement("tr",{key:a[e.keyName]},Object.values(a).map((function(e){return l.a.createElement("td",null,l.a.createElement(i.b,{to:"yolo"},e))})))}));return l.a.createElement("table",{class:"table is-hoverable is-fullwidth"},l.a.createElement("thead",null,l.a.createElement("tr",null,a)),l.a.createElement("tbody",null,t))},Q=[{_id:"uno",firstName:"Johnny",lastName:"Cool",accountType:"free",isAdmin:!1},{_id:"dos",firstName:"Addy",lastName:"Nice",accountType:"paid",isAdmin:!0},{_id:"tres",firstName:"Mike",lastName:"Jackson",accountType:"developer",isAdmin:!0},{_id:"quatorce",firstName:"Steph",lastName:"Cho",accountType:"paid",isAdmin:!1},{_id:"quince",firstName:"Milly",lastName:"Miller",accountType:"free",isAdmin:!1},{_id:"mille",firstName:"Michelle",lastName:"Obama",accountType:"free",isAdmin:!1}];var K=function(){var e=Object(n.useState)(Q),a=Object(o.a)(e,2),t=a[0];return a[1],Object(n.useContext)(d).isAdmin,l.a.createElement(l.a.Fragment,null,l.a.createElement(w,{title:"Manage Users",heroImg:C.a}),l.a.createElement("div",{className:"container container__user_management"},l.a.createElement(H,{items:t,keyName:"_id"})))};var q=function(){var e=Object(n.useContext)(d),a=(e.token,e.validateToken),t=e.logout,r=Object(u.g)();return Object(n.useEffect)((function(){var e=(new m.a).get("jwt");e?a(e):t(r.pathname)}),[]),l.a.createElement("div",{className:"container__app_root"},l.a.createElement(k,null),l.a.createElement(f,null),l.a.createElement("div",{className:"content__wrap"},l.a.createElement(u.c,null,l.a.createElement(u.a,{exact:!0,path:"/"},l.a.createElement(M,null)),l.a.createElement(u.a,{path:"/login"},l.a.createElement(R,null)),l.a.createElement(u.a,{exact:!0,path:"/mills"},l.a.createElement(P,null)),l.a.createElement(u.a,{path:"/mill/:mill_uuid"},l.a.createElement(V,null)),l.a.createElement(u.a,{exact:!0,path:"/users"},l.a.createElement(K,null)),l.a.createElement(u.a,null," ",l.a.createElement("div",null,"NOT FOUND")))),l.a.createElement(O,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(g,null,l.a.createElement(i.a,null,l.a.createElement(E,null,l.a.createElement(q,null))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[42,1,2]]]);
//# sourceMappingURL=main.61f110ec.chunk.js.map